!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.dash_flexlayout=e(require("react"),require("react-dom")):t.dash_flexlayout=e(t.React,t.ReactDOM)}(self,((t,e)=>(()=>{"use strict";var i={702:(t,e,i)=>{i.d(e,{Z:()=>a});var r=i(81),o=i.n(r),n=i(645),s=i.n(n)()(o());s.push([t.id,".flexlayout__layout {\r\n  --color-text: black;\r\n  --color-background: white;\r\n  --color-base: white;\r\n  --color-1: #f7f7f7;\r\n  --color-2: #f0f0f0;\r\n  --color-3: #e9e9e9;\r\n  --color-4: #e2e2e2;\r\n  --color-5: #dbdbdb;\r\n  --color-6: #d4d4d4;\r\n  --color-drag1: rgb(95, 134, 196);\r\n  --color-drag2: rgb(119, 166, 119);\r\n  --color-drag1-background: rgba(95, 134, 196, 0.1);\r\n  --color-drag2-background: rgba(119, 166, 119, 0.075);\r\n  --font-size: medium;\r\n  --font-family: Roboto, Arial, sans-serif;\r\n  --color-overflow: gray;\r\n  --color-icon: gray;\r\n  --color-tabset-background: var(--color-background);\r\n  --color-tabset-background-selected: var(--color-1);\r\n  --color-tabset-background-maximized: var(--color-6);\r\n  --color-tabset-divider-line: var(--color-4);\r\n  --color-tabset-header-background: var(--color-background);\r\n  --color-tabset-header: var(--color-text);\r\n  --color-border-background: var(--color-background);\r\n  --color-border-divider-line: var(--color-4);\r\n  --color-tab-selected: var(--color-text);\r\n  --color-tab-selected-background: var(--color-4);\r\n  --color-tab-unselected: gray;\r\n  --color-tab-unselected-background: transparent;\r\n  --color-tab-textbox: var(--color-text);\r\n  --color-tab-textbox-background: var(--color-3);\r\n  --color-border-tab-selected: var(--color-text);\r\n  --color-border-tab-selected-background: var(--color-4);\r\n  --color-border-tab-unselected: gray;\r\n  --color-border-tab-unselected-background: var(--color-2);\r\n  --color-splitter: var(--color-1);\r\n  --color-splitter-hover: var(--color-4);\r\n  --color-splitter-drag: var(--color-4);\r\n  --color-drag-rect-border: var(--color-6);\r\n  --color-drag-rect-background: var(--color-4);\r\n  --color-drag-rect: var(--color-text);\r\n  --color-popup-border: var(--color-6);\r\n  --color-popup-unselected: var(--color-text);\r\n  --color-popup-unselected-background: white;\r\n  --color-popup-selected: var(--color-text);\r\n  --color-popup-selected-background: var(--color-3);\r\n  --color-edge-marker: gray;\r\n}\r\n\r\n.flexlayout__layout {\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n  overflow: hidden;\r\n}\r\n.flexlayout__splitter {\r\n  background-color: var(--color-splitter);\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__splitter:hover {\r\n    background-color: var(--color-splitter-hover);\r\n    transition: background-color ease-in 0.1s;\r\n    transition-delay: 0.05s;\r\n  }\r\n}\r\n.flexlayout__splitter_border {\r\n  z-index: 10;\r\n}\r\n.flexlayout__splitter_drag {\r\n  z-index: 1000;\r\n  background-color: var(--color-splitter-drag);\r\n}\r\n.flexlayout__splitter_extra {\r\n  background-color: transparent;\r\n}\r\n.flexlayout__outline_rect {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  box-sizing: border-box;\r\n  border: 2px solid var(--color-drag1);\r\n  background: var(--color-drag1-background);\r\n  border-radius: 5px;\r\n  z-index: 1000;\r\n}\r\n.flexlayout__outline_rect_edge {\r\n  pointer-events: none;\r\n  border: 2px solid var(--color-drag2);\r\n  background: var(--color-drag2-background);\r\n  border-radius: 5px;\r\n  z-index: 1000;\r\n  box-sizing: border-box;\r\n}\r\n.flexlayout__edge_rect {\r\n  position: absolute;\r\n  z-index: 1000;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n  background-color: var(--color-edge-marker);\r\n  pointer-events: none;\r\n}\r\n.flexlayout__drag_rect {\r\n  position: absolute;\r\n  cursor: move;\r\n  color: var(--color-drag-rect);\r\n  background-color: var(--color-drag-rect-background);\r\n  border: 2px solid var(--color-drag-rect-border);\r\n  border-radius: 5px;\r\n  z-index: 1000;\r\n  box-sizing: border-box;\r\n  opacity: 0.9;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  padding: 0.3em 1em;\r\n  word-wrap: break-word;\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n}\r\n.flexlayout__tabset {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  background-color: var(--color-tabset-background);\r\n  box-sizing: border-box;\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n}\r\n.flexlayout__tabset_tab_divider {\r\n  width: 4px;\r\n}\r\n.flexlayout__tabset_content {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.flexlayout__tabset_header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 3px 3px 3px 5px;\r\n  box-sizing: border-box;\r\n  border-bottom: 1px solid var(--color-tabset-divider-line);\r\n  color: var(--color-tabset-header);\r\n  background-color: var(--color-tabset-header-background);\r\n}\r\n.flexlayout__tabset_header_content {\r\n  flex-grow: 1;\r\n}\r\n.flexlayout__tabset_tabbar_outer {\r\n  box-sizing: border-box;\r\n  background-color: var(--color-tabset-background);\r\n  overflow: hidden;\r\n  display: flex;\r\n}\r\n.flexlayout__tabset_tabbar_outer_top {\r\n  border-bottom: 1px solid var(--color-tabset-divider-line);\r\n}\r\n.flexlayout__tabset_tabbar_outer_bottom {\r\n  border-top: 1px solid var(--color-tabset-divider-line);\r\n}\r\n.flexlayout__tabset_tabbar_inner {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-grow: 1;\r\n  overflow: hidden;\r\n}\r\n.flexlayout__tabset_tabbar_inner_tab_container {\r\n  display: flex;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 10000px;\r\n}\r\n.flexlayout__tabset_tabbar_inner_tab_container_top {\r\n  border-top: 2px solid transparent;\r\n}\r\n.flexlayout__tabset_tabbar_inner_tab_container_bottom {\r\n  border-bottom: 2px solid transparent;\r\n}\r\n.flexlayout__tabset-selected {\r\n  background-color: var(--color-tabset-background-selected);\r\n}\r\n.flexlayout__tabset-maximized {\r\n  background-color: var(--color-tabset-background-maximized);\r\n}\r\n.flexlayout__tab_button_stamp {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.3em;\r\n  white-space: nowrap;\r\n  box-sizing: border-box;\r\n}\r\n.flexlayout__tab {\r\n  overflow: auto;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  background-color: var(--color-background);\r\n  color: var(--color-text);\r\n}\r\n.flexlayout__tab_button {\r\n  display: flex;\r\n  gap: 0.3em;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  padding: 3px 0.5em;\r\n  cursor: pointer;\r\n}\r\n.flexlayout__tab_button--selected {\r\n  background-color: var(--color-tab-selected-background);\r\n  color: var(--color-tab-selected);\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__tab_button:hover {\r\n    background-color: var(--color-tab-selected-background);\r\n    color: var(--color-tab-selected);\r\n  }\r\n}\r\n.flexlayout__tab_button--unselected {\r\n  background-color: var(--color-tab-unselected-background);\r\n  color: var(--color-tab-unselected);\r\n  color: gray;\r\n}\r\n.flexlayout__tab_button_leading {\r\n  display: flex;\r\n}\r\n.flexlayout__tab_button_content {\r\n  display: flex;\r\n}\r\n.flexlayout__tab_button_textbox {\r\n  border: none;\r\n  font-family: var(--font-family);\r\n  font-size: var(--font-size);\r\n  color: var(--color-tab-textbox);\r\n  background-color: var(--color-tab-textbox-background);\r\n  border: 1px inset var(--color-1);\r\n  border-radius: 3px;\r\n  width: 10em;\r\n}\r\n.flexlayout__tab_button_textbox:focus {\r\n  outline: none;\r\n}\r\n.flexlayout__tab_button_trailing {\r\n  display: flex;\r\n  visibility: hidden;\r\n  border-radius: 4px;\r\n}\r\n.flexlayout__tab_button_trailing:hover {\r\n  background-color: var(--color-3);\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__tab_button:hover .flexlayout__tab_button_trailing {\r\n    visibility: visible;\r\n  }\r\n}\r\n.flexlayout__tab_button--selected .flexlayout__tab_button_trailing {\r\n  visibility: visible;\r\n}\r\n.flexlayout__tab_button_overflow {\r\n  display: flex;\r\n  align-items: center;\r\n  border: none;\r\n  color: var(--color-overflow);\r\n  font-size: inherit;\r\n  background-color: transparent;\r\n}\r\n.flexlayout__tab_toolbar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.3em;\r\n  padding-left: 0.5em;\r\n  padding-right: 0.3em;\r\n}\r\n.flexlayout__tab_toolbar_button {\r\n  border: none;\r\n  outline: none;\r\n  font-size: inherit;\r\n  margin: 0px;\r\n  background-color: transparent;\r\n  border-radius: 4px;\r\n  padding: 1px;\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__tab_toolbar_button:hover {\r\n    background-color: var(--color-2);\r\n  }\r\n}\r\n.flexlayout__tab_toolbar_sticky_buttons_container {\r\n  display: flex;\r\n  gap: 0.3em;\r\n  padding-left: 5px;\r\n  align-items: center;\r\n}\r\n.flexlayout__tab_floating {\r\n  overflow: auto;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  color: var(--color-text);\r\n  background-color: var(--color-background);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.flexlayout__tab_floating_inner {\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.flexlayout__tab_floating_inner div {\r\n  margin-bottom: 5px;\r\n  text-align: center;\r\n}\r\n.flexlayout__tab_floating_inner div a {\r\n  color: royalblue;\r\n}\r\n.flexlayout__border {\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  display: flex;\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n  color: var(--color-border);\r\n  background-color: var(--color-border-background);\r\n}\r\n.flexlayout__border_top {\r\n  border-bottom: 1px solid var(--color-border-divider-line);\r\n  align-items: center;\r\n}\r\n.flexlayout__border_bottom {\r\n  border-top: 1px solid var(--color-border-divider-line);\r\n  align-items: center;\r\n}\r\n.flexlayout__border_left {\r\n  border-right: 1px solid var(--color-border-divider-line);\r\n  align-content: center;\r\n  flex-direction: column;\r\n}\r\n.flexlayout__border_right {\r\n  border-left: 1px solid var(--color-border-divider-line);\r\n  align-content: center;\r\n  flex-direction: column;\r\n}\r\n.flexlayout__border_inner {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  overflow: hidden;\r\n  flex-grow: 1;\r\n}\r\n.flexlayout__border_inner_tab_container {\r\n  white-space: nowrap;\r\n  display: flex;\r\n  padding-left: 2px;\r\n  padding-right: 2px;\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 10000px;\r\n}\r\n.flexlayout__border_inner_tab_container_right {\r\n  transform-origin: top left;\r\n  transform: rotate(90deg);\r\n}\r\n.flexlayout__border_inner_tab_container_left {\r\n  flex-direction: row-reverse;\r\n  transform-origin: top right;\r\n  transform: rotate(-90deg);\r\n}\r\n.flexlayout__border_tab_divider {\r\n  width: 4px;\r\n}\r\n.flexlayout__border_button {\r\n  display: flex;\r\n  gap: 0.3em;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding: 3px 0.5em;\r\n  margin: 2px 0px;\r\n  box-sizing: border-box;\r\n  white-space: nowrap;\r\n}\r\n.flexlayout__border_button--selected {\r\n  background-color: var(--color-border-tab-selected-background);\r\n  color: var(--color-border-tab-selected);\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__border_button:hover {\r\n    background-color: var(--color-border-tab-selected-background);\r\n    color: var(--color-border-tab-selected);\r\n  }\r\n}\r\n.flexlayout__border_button--unselected {\r\n  background-color: var(--color-border-tab-unselected-background);\r\n  color: var(--color-border-tab-unselected);\r\n}\r\n.flexlayout__border_button_leading {\r\n  display: flex;\r\n}\r\n.flexlayout__border_button_content {\r\n  display: flex;\r\n}\r\n.flexlayout__border_button_trailing {\r\n  display: flex;\r\n  border-radius: 4px;\r\n  visibility: hidden;\r\n}\r\n.flexlayout__border_button_trailing:hover {\r\n  background-color: var(--color-3);\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__border_button:hover .flexlayout__border_button_trailing {\r\n    visibility: visible;\r\n  }\r\n}\r\n.flexlayout__border_button--selected .flexlayout__border_button_trailing {\r\n  visibility: visible;\r\n}\r\n.flexlayout__border_toolbar {\r\n  display: flex;\r\n  gap: 0.3em;\r\n  align-items: center;\r\n}\r\n.flexlayout__border_toolbar_left, .flexlayout__border_toolbar_right {\r\n  flex-direction: column;\r\n  padding-top: 0.5em;\r\n  padding-bottom: 0.3em;\r\n}\r\n.flexlayout__border_toolbar_top, .flexlayout__border_toolbar_bottom {\r\n  padding-left: 0.5em;\r\n  padding-right: 0.3em;\r\n}\r\n.flexlayout__border_toolbar_button {\r\n  border: none;\r\n  outline: none;\r\n  font-size: inherit;\r\n  background-color: transparent;\r\n  border-radius: 4px;\r\n  padding: 1px;\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__border_toolbar_button:hover {\r\n    background-color: var(--color-2);\r\n  }\r\n}\r\n.flexlayout__border_toolbar_button_overflow {\r\n  display: flex;\r\n  align-items: center;\r\n  border: none;\r\n  color: var(--color-overflow);\r\n  font-size: inherit;\r\n  background-color: transparent;\r\n}\r\n.flexlayout__popup_menu {\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n}\r\n.flexlayout__popup_menu_item {\r\n  padding: 2px 0.5em;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  border-radius: 2px;\r\n}\r\n@media (hover: hover) {\r\n  .flexlayout__popup_menu_item:hover {\r\n    background-color: var(--color-6);\r\n  }\r\n}\r\n.flexlayout__popup_menu_container {\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\r\n  border: 1px solid var(--color-popup-border);\r\n  color: var(--color-popup-unselected);\r\n  background: var(--color-popup-unselected-background);\r\n  border-radius: 3px;\r\n  position: absolute;\r\n  z-index: 1000;\r\n  max-height: 50%;\r\n  min-width: 100px;\r\n  overflow: auto;\r\n  padding: 2px;\r\n}\r\n.flexlayout__floating_window _body {\r\n  height: 100%;\r\n}\r\n.flexlayout__floating_window_content {\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n}\r\n.flexlayout__floating_window_tab {\r\n  overflow: auto;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  background-color: var(--color-background);\r\n  color: var(--color-text);\r\n}\r\n.flexlayout__error_boundary_container {\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.flexlayout__error_boundary_content {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.flexlayout__tabset_sizer {\r\n  padding-top: 5px;\r\n  padding-bottom: 3px;\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n}\r\n.flexlayout__tabset_header_sizer {\r\n  padding-top: 3px;\r\n  padding-bottom: 3px;\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n}\r\n.flexlayout__border_sizer {\r\n  padding-top: 6px;\r\n  padding-bottom: 5px;\r\n  font-size: var(--font-size);\r\n  font-family: var(--font-family);\r\n}\r\n",""]);const a=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",r=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),r&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),r&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,r,o,n){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var d=0;d<t.length;d++){var h=[].concat(t[d]);r&&s[h[0]]||(void 0!==n&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=n),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),o&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=o):h[4]="".concat(o)),e.push(h))}},e}},81:t=>{t.exports=function(t){return t[1]}},285:(t,e,i)=>{i.r(e),i.d(e,{Action:()=>h,Actions:()=>c,BorderNode:()=>R,BorderSet:()=>Z,CLASSES:()=>b,DockLocation:()=>a,DragDrop:()=>d,DropInfo:()=>g,I18nLabel:()=>p,ICloseType:()=>T,Layout:()=>J,Model:()=>ot,Node:()=>f,Orientation:()=>n,Rect:()=>s,RowNode:()=>v,SplitterNode:()=>m,TabNode:()=>E,TabSetNode:()=>y});var r=i(812),o=i(587);class n{constructor(t){this._name=t}static flip(t){return t===n.HORZ?n.VERT:n.HORZ}getName(){return this._name}toString(){return this._name}}n.HORZ=new n("horz"),n.VERT=new n("vert");class s{constructor(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r}static empty(){return new s(0,0,0,0)}static fromElement(t){let{x:e,y:i,width:r,height:o}=t.getBoundingClientRect();return new s(e,i,r,o)}clone(){return new s(this.x,this.y,this.width,this.height)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}getBottom(){return this.y+this.height}getRight(){return this.x+this.width}getCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}positionElement(t,e){this.styleWithPosition(t.style,e)}styleWithPosition(t,e="absolute"){return t.left=this.x+"px",t.top=this.y+"px",t.width=Math.max(0,this.width)+"px",t.height=Math.max(0,this.height)+"px",t.position=e,t}contains(t,e){return this.x<=t&&t<=this.getRight()&&this.y<=e&&e<=this.getBottom()}removeInsets(t){return new s(this.x+t.left,this.y+t.top,Math.max(0,this.width-t.left-t.right),Math.max(0,this.height-t.top-t.bottom))}centerInRect(t){this.x=(t.width-this.width)/2,this.y=(t.height-this.height)/2}_getSize(t){let e=this.width;return t===n.VERT&&(e=this.height),e}toString(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}class a{constructor(t,e,i){this._name=t,this._orientation=e,this._indexPlus=i,a.values[this._name]=this}static getByName(t){return a.values[t]}static getLocation(t,e,i){if(e=(e-t.x)/t.width,i=(i-t.y)/t.height,e>=.25&&e<.75&&i>=.25&&i<.75)return a.CENTER;const r=i>=1-e;return i>=e?r?a.BOTTOM:a.LEFT:r?a.RIGHT:a.TOP}getName(){return this._name}getOrientation(){return this._orientation}getDockRect(t){return this===a.TOP?new s(t.x,t.y,t.width,t.height/2):this===a.BOTTOM?new s(t.x,t.getBottom()-t.height/2,t.width,t.height/2):this===a.LEFT?new s(t.x,t.y,t.width/2,t.height):this===a.RIGHT?new s(t.getRight()-t.width/2,t.y,t.width/2,t.height):t.clone()}split(t,e){return this===a.TOP?{start:new s(t.x,t.y,t.width,e),end:new s(t.x,t.y+e,t.width,t.height-e)}:this===a.LEFT?{start:new s(t.x,t.y,e,t.height),end:new s(t.x+e,t.y,t.width-e,t.height)}:this===a.RIGHT?{start:new s(t.getRight()-e,t.y,e,t.height),end:new s(t.x,t.y,t.width-e,t.height)}:{start:new s(t.x,t.getBottom()-e,t.width,e),end:new s(t.x,t.y,t.width,t.height-e)}}reflect(){return this===a.TOP?a.BOTTOM:this===a.LEFT?a.RIGHT:this===a.RIGHT?a.LEFT:a.TOP}toString(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"}}a.values={},a.TOP=new a("top",n.VERT,0),a.BOTTOM=new a("bottom",n.VERT,1),a.LEFT=new a("left",n.HORZ,0),a.RIGHT=new a("right",n.HORZ,1),a.CENTER=new a("center",n.VERT,0);const l=!("undefined"==typeof window||!window.document||!window.document.createElement);class d{constructor(){this._manualGlassManagement=!1,this._startX=0,this._startY=0,this._dragDepth=0,this._glassShowing=!1,this._dragging=!1,this._active=!1,l&&(this._glass=document.createElement("div"),this._glass.style.zIndex="998",this._glass.style.backgroundColor="transparent",this._glass.style.outline="none"),this._defaultGlassCursor="default",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onKeyPress=this._onKeyPress.bind(this),this._onDragCancel=this._onDragCancel.bind(this),this._onDragEnter=this._onDragEnter.bind(this),this._onDragLeave=this._onDragLeave.bind(this),this.resizeGlass=this.resizeGlass.bind(this),this._lastClick=0,this._clickX=0,this._clickY=0}addGlass(t){var e;this._glassShowing?this._manualGlassManagement=!0:(this._document||(this._document=window.document),this._rootElement||(this._rootElement=this._document.body),this.resizeGlass(),null===(e=this._document.defaultView)||void 0===e||e.addEventListener("resize",this.resizeGlass),this._document.body.appendChild(this._glass),this._glass.tabIndex=-1,this._glass.focus(),this._glass.addEventListener("keydown",this._onKeyPress),this._glass.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._glass.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._glass.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._glassShowing=!0,this._fDragCancel=t,this._manualGlassManagement=!1)}resizeGlass(){s.fromElement(this._rootElement).positionElement(this._glass,"fixed")}hideGlass(){var t;this._glassShowing&&(this._document.body.removeChild(this._glass),null===(t=this._document.defaultView)||void 0===t||t.removeEventListener("resize",this.resizeGlass),this._glassShowing=!1,this._document=void 0,this._rootElement=void 0,this.setGlassCursorOverride(void 0))}_updateGlassCursor(){var t;this._glass.style.cursor=null!==(t=this._glassCursorOverride)&&void 0!==t?t:this._defaultGlassCursor}_setDefaultGlassCursor(t){this._defaultGlassCursor=t,this._updateGlassCursor()}setGlassCursorOverride(t){this._glassCursorOverride=t,this._updateGlassCursor()}startDrag(t,e,i,r,o,n,s,a,l){if(t&&this._lastEvent&&this._lastEvent.type.startsWith("touch")&&t.type.startsWith("mouse")&&t.timeStamp-this._lastEvent.timeStamp<500)return;this._lastEvent=t,this._document=a||window.document,this._rootElement=l||this._document.body;const d=this._getLocationEvent(t);this.addGlass(o),this._dragging&&console.warn("this._dragging true on startDrag should never happen"),t?(this._startX=d.clientX,this._startY=d.clientY,window.matchMedia&&!window.matchMedia("(pointer: fine)").matches||this._setDefaultGlassCursor(getComputedStyle(t.target).cursor),this._stopPropagation(t),this._preventDefault(t)):(this._startX=0,this._startY=0,this._setDefaultGlassCursor("default")),this._dragging=!1,this._fDragStart=e,this._fDragMove=i,this._fDragEnd=r,this._fDragCancel=o,this._fClick=n,this._fDblClick=s,this._active=!0,"dragenter"===(null==t?void 0:t.type)?(this._dragDepth=1,this._rootElement.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._rootElement.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._rootElement.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._document.addEventListener("dragend",this._onDragCancel,{passive:!1}),this._document.addEventListener("drop",this._onMouseUp,{passive:!1})):(this._document.addEventListener("mouseup",this._onMouseUp,{passive:!1}),this._document.addEventListener("mousemove",this._onMouseMove,{passive:!1}),this._document.addEventListener("touchend",this._onMouseUp,{passive:!1}),this._document.addEventListener("touchmove",this._onMouseMove,{passive:!1}))}isDragging(){return this._dragging}isActive(){return this._active}toString(){return"(DragDrop: startX="+this._startX+", startY="+this._startY+", dragging="+this._dragging+")"}_onKeyPress(t){27===t.keyCode&&this._onDragCancel()}_onDragCancel(){this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this.hideGlass(),void 0!==this._fDragCancel&&this._fDragCancel(this._dragging),this._dragging=!1,this._active=!1}_getLocationEvent(t){let e=t;return t&&t.touches&&(e=t.touches[0]),e}_getLocationEventEnd(t){let e=t;return t.changedTouches&&(e=t.changedTouches[0]),e}_stopPropagation(t){t.stopPropagation&&t.stopPropagation()}_preventDefault(t){return t.preventDefault&&t.cancelable&&t.preventDefault(),t}_onMouseMove(t){this._lastEvent=t;const e=this._getLocationEvent(t);return this._stopPropagation(t),this._preventDefault(t),!this._dragging&&(Math.abs(this._startX-e.clientX)>5||Math.abs(this._startY-e.clientY)>5)&&(this._dragging=!0,this._fDragStart&&(this._setDefaultGlassCursor("move"),this._dragging=this._fDragStart({clientX:this._startX,clientY:this._startY}))),this._dragging&&this._fDragMove&&this._fDragMove(e),!1}_onMouseUp(t){this._lastEvent=t;const e=this._getLocationEventEnd(t);if(this._stopPropagation(t),this._preventDefault(t),this._active=!1,this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this._manualGlassManagement||this.hideGlass(),this._dragging)this._dragging=!1,this._fDragEnd&&this._fDragEnd(t);else if(this._fDragCancel&&this._fDragCancel(this._dragging),Math.abs(this._startX-e.clientX)<=5&&Math.abs(this._startY-e.clientY)<=5){let i=!1;const r=(new Date).getTime();Math.abs(this._clickX-e.clientX)<=5&&Math.abs(this._clickY-e.clientY)<=5&&r-this._lastClick<500&&this._fDblClick&&(this._fDblClick(t),i=!0),!i&&this._fClick&&this._fClick(t),this._lastClick=r,this._clickX=e.clientX,this._clickY=e.clientY}return!1}_onDragEnter(t){return this._preventDefault(t),this._stopPropagation(t),this._dragDepth++,!1}_onDragLeave(t){return this._preventDefault(t),this._stopPropagation(t),this._dragDepth--,this._dragDepth<=0&&this._onDragCancel(),!1}}d.instance=new d;class h{constructor(t,e){this.type=t,this.data=e}}class c{static addNode(t,e,i,r,o){return new h(c.ADD_NODE,{json:t,toNode:e,location:i.getName(),index:r,select:o})}static moveNode(t,e,i,r,o){return new h(c.MOVE_NODE,{fromNode:t,toNode:e,location:i.getName(),index:r,select:o})}static deleteTab(t){return new h(c.DELETE_TAB,{node:t})}static deleteTabset(t){return new h(c.DELETE_TABSET,{node:t})}static renameTab(t,e){return new h(c.RENAME_TAB,{node:t,text:e})}static selectTab(t){return new h(c.SELECT_TAB,{tabNode:t})}static setActiveTabset(t){return new h(c.SET_ACTIVE_TABSET,{tabsetNode:t})}static adjustSplit(t){const e=t.node1Id,i=t.node2Id;return new h(c.ADJUST_SPLIT,{node1:e,weight1:t.weight1,pixelWidth1:t.pixelWidth1,node2:i,weight2:t.weight2,pixelWidth2:t.pixelWidth2})}static adjustBorderSplit(t,e){return new h(c.ADJUST_BORDER_SPLIT,{node:t,pos:e})}static maximizeToggle(t){return new h(c.MAXIMIZE_TOGGLE,{node:t})}static updateModelAttributes(t){return new h(c.UPDATE_MODEL_ATTRIBUTES,{json:t})}static updateNodeAttributes(t,e){return new h(c.UPDATE_NODE_ATTRIBUTES,{node:t,json:e})}static floatTab(t){return new h(c.FLOAT_TAB,{node:t})}static unFloatTab(t){return new h(c.UNFLOAT_TAB,{node:t})}}c.ADD_NODE="FlexLayout_AddNode",c.MOVE_NODE="FlexLayout_MoveNode",c.DELETE_TAB="FlexLayout_DeleteTab",c.DELETE_TABSET="FlexLayout_DeleteTabset",c.RENAME_TAB="FlexLayout_RenameTab",c.SELECT_TAB="FlexLayout_SelectTab",c.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",c.ADJUST_SPLIT="FlexLayout_AdjustSplit",c.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",c.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",c.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",c.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",c.FLOAT_TAB="FlexLayout_FloatTab",c.UNFLOAT_TAB="FlexLayout_UnFloatTab";class _{constructor(t,e,i,r){this.name=t,this.modelName=e,this.defaultValue=i,this.alwaysWriteJson=r,this.required=!1,this.fixed=!1,this.type="any"}setType(t){return this.type=t,this}setRequired(){return this.required=!0,this}setFixed(){return this.fixed=!0,this}}_.NUMBER="number",_.STRING="string",_.BOOLEAN="boolean";class u{constructor(){this.attributes=[],this.nameToAttribute={}}addWithAll(t,e,i,r){const o=new _(t,e,i,r);return this.attributes.push(o),this.nameToAttribute[t]=o,o}addInherited(t,e){return this.addWithAll(t,e,void 0,!1)}add(t,e,i){return this.addWithAll(t,void 0,e,i)}getAttributes(){return this.attributes}getModelName(t){const e=this.nameToAttribute[t];if(void 0!==e)return e.modelName}toJson(t,e){for(const i of this.attributes){const r=e[i.name];(i.alwaysWriteJson||r!==i.defaultValue)&&(t[i.name]=r)}}fromJson(t,e){for(const i of this.attributes){const r=t[i.name];e[i.name]=void 0===r?i.defaultValue:r}}update(t,e){for(const i of this.attributes)if(t.hasOwnProperty(i.name)){const r=t[i.name];void 0===r?delete e[i.name]:e[i.name]=r}}setDefaults(t){for(const e of this.attributes)t[e.name]=e.defaultValue}toTypescriptInterface(t,e){const i=[],r=this.attributes.sort(((t,e)=>t.name.localeCompare(e.name)));i.push("export interface I"+t+"Attributes {");for(let t=0;t<r.length;t++){const o=r[t];let n,s,a=o.type,l=o;void 0!==l.defaultValue?n=l.defaultValue:void 0!==l.modelName&&void 0!==e&&void 0!==e.nameToAttribute[l.modelName]&&(s=l.modelName,l=e.nameToAttribute[l.modelName],n=l.defaultValue,a=l.type);let d=JSON.stringify(n);const h=l.required||l.fixed?"":"?";if(o.fixed)i.push("\t"+o.name+": "+d+";");else{const t=(void 0!==n?"default: "+d:"")+(void 0!==s?" - inherited from global "+s:"");i.push("\t"+o.name+h+": "+a+";"+(t.length>0?" // "+t:""))}}return i.push("}"),i.join("\n")}}class g{constructor(t,e,i,r,o){this.node=t,this.rect=e,this.location=i,this.index=r,this.className=o}}var b,p,T;!function(t){t.FLEXLAYOUT__BORDER="flexlayout__border",t.FLEXLAYOUT__BORDER_="flexlayout__border_",t.FLEXLAYOUT__BORDER_BUTTON="flexlayout__border_button",t.FLEXLAYOUT__BORDER_BUTTON_="flexlayout__border_button_",t.FLEXLAYOUT__BORDER_BUTTON_CONTENT="flexlayout__border_button_content",t.FLEXLAYOUT__BORDER_BUTTON_LEADING="flexlayout__border_button_leading",t.FLEXLAYOUT__BORDER_BUTTON_TRAILING="flexlayout__border_button_trailing",t.FLEXLAYOUT__BORDER_BUTTON__SELECTED="flexlayout__border_button--selected",t.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED="flexlayout__border_button--unselected",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW="flexlayout__border_toolbar_button_overflow",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_="flexlayout__border_toolbar_button_overflow_",t.FLEXLAYOUT__BORDER_INNER="flexlayout__border_inner",t.FLEXLAYOUT__BORDER_INNER_="flexlayout__border_inner_",t.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER="flexlayout__border_inner_tab_container",t.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_="flexlayout__border_inner_tab_container_",t.FLEXLAYOUT__BORDER_TAB_DIVIDER="flexlayout__border_tab_divider",t.FLEXLAYOUT__BORDER_SIZER="flexlayout__border_sizer",t.FLEXLAYOUT__BORDER_TOOLBAR="flexlayout__border_toolbar",t.FLEXLAYOUT__BORDER_TOOLBAR_="flexlayout__border_toolbar_",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON="flexlayout__border_toolbar_button",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT="flexlayout__border_toolbar_button-float",t.FLEXLAYOUT__DRAG_RECT="flexlayout__drag_rect",t.FLEXLAYOUT__EDGE_RECT="flexlayout__edge_rect",t.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER="flexlayout__error_boundary_container",t.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT="flexlayout__error_boundary_content",t.FLEXLAYOUT__FLOATING_WINDOW_CONTENT="flexlayout__floating_window_content",t.FLEXLAYOUT__FLOATING_WINDOW_TAB="flexlayout__floating_window_tab",t.FLEXLAYOUT__LAYOUT="flexlayout__layout",t.FLEXLAYOUT__OUTLINE_RECT="flexlayout__outline_rect",t.FLEXLAYOUT__OUTLINE_RECT_EDGE="flexlayout__outline_rect_edge",t.FLEXLAYOUT__SPLITTER="flexlayout__splitter",t.FLEXLAYOUT__SPLITTER_EXTRA="flexlayout__splitter_extra",t.FLEXLAYOUT__SPLITTER_="flexlayout__splitter_",t.FLEXLAYOUT__SPLITTER_BORDER="flexlayout__splitter_border",t.FLEXLAYOUT__SPLITTER_DRAG="flexlayout__splitter_drag",t.FLEXLAYOUT__TAB="flexlayout__tab",t.FLEXLAYOUT__TABSET="flexlayout__tabset",t.FLEXLAYOUT__TABSET_HEADER="flexlayout__tabset_header",t.FLEXLAYOUT__TABSET_HEADER_SIZER="flexlayout__tabset_header_sizer",t.FLEXLAYOUT__TABSET_HEADER_CONTENT="flexlayout__tabset_header_content",t.FLEXLAYOUT__TABSET_MAXIMIZED="flexlayout__tabset-maximized",t.FLEXLAYOUT__TABSET_SELECTED="flexlayout__tabset-selected",t.FLEXLAYOUT__TABSET_SIZER="flexlayout__tabset_sizer",t.FLEXLAYOUT__TABSET_TAB_DIVIDER="flexlayout__tabset_tab_divider",t.FLEXLAYOUT__TABSET_CONTENT="flexlayout__tabset_content",t.FLEXLAYOUT__TABSET_TABBAR_INNER="flexlayout__tabset_tabbar_inner",t.FLEXLAYOUT__TABSET_TABBAR_INNER_="flexlayout__tabset_tabbar_inner_",t.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER="flexlayout__tabset_tabbar_inner_tab_container",t.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_="flexlayout__tabset_tabbar_inner_tab_container_",t.FLEXLAYOUT__TABSET_TABBAR_OUTER="flexlayout__tabset_tabbar_outer",t.FLEXLAYOUT__TABSET_TABBAR_OUTER_="flexlayout__tabset_tabbar_outer_",t.FLEXLAYOUT__TAB_BORDER="flexlayout__tab_border",t.FLEXLAYOUT__TAB_BORDER_="flexlayout__tab_border_",t.FLEXLAYOUT__TAB_BUTTON="flexlayout__tab_button",t.FLEXLAYOUT__TAB_BUTTON_CONTENT="flexlayout__tab_button_content",t.FLEXLAYOUT__TAB_BUTTON_LEADING="flexlayout__tab_button_leading",t.FLEXLAYOUT__TAB_BUTTON_OVERFLOW="flexlayout__tab_button_overflow",t.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT="flexlayout__tab_button_overflow_count",t.FLEXLAYOUT__TAB_BUTTON_TEXTBOX="flexlayout__tab_button_textbox",t.FLEXLAYOUT__TAB_BUTTON_TRAILING="flexlayout__tab_button_trailing",t.FLEXLAYOUT__TAB_BUTTON_STAMP="flexlayout__tab_button_stamp",t.FLEXLAYOUT__TAB_FLOATING="flexlayout__tab_floating",t.FLEXLAYOUT__TAB_FLOATING_INNER="flexlayout__tab_floating_inner",t.FLEXLAYOUT__TAB_TOOLBAR="flexlayout__tab_toolbar",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON="flexlayout__tab_toolbar_button",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_="flexlayout__tab_toolbar_button-",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT="flexlayout__tab_toolbar_button-float",t.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER="flexlayout__tab_toolbar_sticky_buttons_container",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE="flexlayout__tab_toolbar_button-close",t.FLEXLAYOUT__POPUP_MENU_CONTAINER="flexlayout__popup_menu_container",t.FLEXLAYOUT__POPUP_MENU_ITEM="flexlayout__popup_menu_item",t.FLEXLAYOUT__POPUP_MENU="flexlayout__popup_menu"}(b||(b={}));class f{constructor(t){this._dirty=!1,this._tempSize=0,this._model=t,this._attributes={},this._children=[],this._fixed=!1,this._rect=s.empty(),this._visible=!1,this._listeners={}}getId(){let t=this._attributes.id;return void 0!==t||(t=this._model._nextUniqueId(),this._setId(t)),t}getModel(){return this._model}getType(){return this._attributes.type}getParent(){return this._parent}getChildren(){return this._children}getRect(){return this._rect}isVisible(){return this._visible}getOrientation(){return void 0===this._parent?this._model.isRootOrientationVertical()?n.VERT:n.HORZ:n.flip(this._parent.getOrientation())}setEventListener(t,e){this._listeners[t]=e}removeEventListener(t){delete this._listeners[t]}_setId(t){this._attributes.id=t}_fireEvent(t,e){void 0!==this._listeners[t]&&this._listeners[t](e)}_getAttr(t){let e=this._attributes[t];if(void 0===e){const i=this._getAttributeDefinitions().getModelName(t);void 0!==i&&(e=this._model._getAttribute(i))}return e}_forEachNode(t,e){t(this,e),e++;for(const i of this._children)i._forEachNode(t,e)}_setVisible(t){t!==this._visible&&(this._fireEvent("visibility",{visible:t}),this._visible=t)}_getDrawChildren(){return this._children}_setParent(t){this._parent=t}_setRect(t){this._rect=t}_setWeight(t){this._attributes.weight=t}_setSelected(t){this._attributes.selected=t}_isFixed(){return this._fixed}_layout(t,e){this._rect=t}_findDropTargetNode(t,e,i){let r;if(this._rect.contains(e,i))if(void 0!==this._model.getMaximizedTabset())r=this._model.getMaximizedTabset().canDrop(t,e,i);else if(r=this.canDrop(t,e,i),void 0===r&&0!==this._children.length)for(const o of this._children)if(r=o._findDropTargetNode(t,e,i),void 0!==r)break;return r}canDrop(t,e,i){}_canDockInto(t,e){if(null!=e){if(e.location===a.CENTER&&!1===e.node.isEnableDrop())return!1;if(e.location===a.CENTER&&"tabset"===t.getType()&&void 0!==t.getName())return!1;if(e.location!==a.CENTER&&!1===e.node.isEnableDivide())return!1;if(this._model._getOnAllowDrop())return this._model._getOnAllowDrop()(t,e)}return!0}_removeChild(t){const e=this._children.indexOf(t);return-1!==e&&this._children.splice(e,1),this._dirty=!0,e}_addChild(t,e){return null!=e?this._children.splice(e,0,t):(this._children.push(t),e=this._children.length-1),t._parent=this,this._dirty=!0,e}_removeAll(){this._children=[],this._dirty=!0}_styleWithPosition(t){return null==t&&(t={}),this._rect.styleWithPosition(t)}_getTempSize(){return this._tempSize}_setTempSize(t){this._tempSize=t}isEnableDivide(){return!0}_toAttributeString(){return JSON.stringify(this._attributes,void 0,"\t")}}class m extends f{constructor(t){super(t),this._fixed=!0,this._attributes.type=m.TYPE,t._addNode(this)}getWidth(){return this._model.getSplitterSize()}getMinWidth(){return this.getOrientation()===n.VERT?this._model.getSplitterSize():0}getHeight(){return this._model.getSplitterSize()}getMinHeight(){return this.getOrientation()===n.HORZ?this._model.getSplitterSize():0}getMinSize(t){return t===n.HORZ?this.getMinWidth():this.getMinHeight()}getWeight(){return 0}_setWeight(t){}_getPrefSize(t){return this._model.getSplitterSize()}_updateAttrs(t){}_getAttributeDefinitions(){return new u}toJson(){}}m.TYPE="splitter";class E extends f{constructor(t,e,i=!0){super(t),this._extra={},E._attributeDefinitions.fromJson(e,this._attributes),!0===i&&t._addNode(this)}static _fromJson(t,e,i=!0){return new E(e,t,i)}static _createAttributeDefinitions(){const t=new u;return t.add("type",E.TYPE,!0).setType(_.STRING),t.add("id",void 0).setType(_.STRING),t.add("name","[Unnamed Tab]").setType(_.STRING),t.add("altName",void 0).setType(_.STRING),t.add("helpText",void 0).setType(_.STRING),t.add("component",void 0).setType(_.STRING),t.add("config",void 0).setType("any"),t.add("floating",!1).setType(_.BOOLEAN),t.addInherited("enableClose","tabEnableClose").setType(_.BOOLEAN),t.addInherited("closeType","tabCloseType").setType("ICloseType"),t.addInherited("enableDrag","tabEnableDrag").setType(_.BOOLEAN),t.addInherited("enableRename","tabEnableRename").setType(_.BOOLEAN),t.addInherited("className","tabClassName").setType(_.STRING),t.addInherited("icon","tabIcon").setType(_.STRING),t.addInherited("enableRenderOnDemand","tabEnableRenderOnDemand").setType(_.BOOLEAN),t.addInherited("enableFloat","tabEnableFloat").setType(_.BOOLEAN),t.addInherited("borderWidth","tabBorderWidth").setType(_.NUMBER),t.addInherited("borderHeight","tabBorderHeight").setType(_.NUMBER),t}getWindow(){return this._window}getTabRect(){return this._tabRect}_setTabRect(t){this._tabRect=t}_setRenderedName(t){this._renderedName=t}_getNameForOverflowMenu(){const t=this._getAttr("altName");return void 0!==t?t:this._renderedName}getName(){return this._getAttr("name")}getHelpText(){return this._getAttr("helpText")}getComponent(){return this._getAttr("component")}getConfig(){return this._attributes.config}getExtraData(){return this._extra}isFloating(){return this._getAttr("floating")}getIcon(){return this._getAttr("icon")}isEnableClose(){return this._getAttr("enableClose")}getCloseType(){return this._getAttr("closeType")}isEnableFloat(){return this._getAttr("enableFloat")}isEnableDrag(){return this._getAttr("enableDrag")}isEnableRename(){return this._getAttr("enableRename")}getClassName(){return this._getAttr("className")}isEnableRenderOnDemand(){return this._getAttr("enableRenderOnDemand")}_setName(t){this._attributes.name=t,this._window&&this._window.document&&(this._window.document.title=t)}_setFloating(t){this._attributes.floating=t}_layout(t,e){t.equals(this._rect)||this._fireEvent("resize",{rect:t}),this._rect=t}_delete(){this._parent._remove(this),this._fireEvent("close",{})}toJson(){const t={};return E._attributeDefinitions.toJson(t,this._attributes),t}_updateAttrs(t){E._attributeDefinitions.update(t,this._attributes)}_getAttributeDefinitions(){return E._attributeDefinitions}_setWindow(t){this._window=t}_setBorderWidth(t){this._attributes.borderWidth=t}_setBorderHeight(t){this._attributes.borderHeight=t}static getAttributeDefinitions(){return E._attributeDefinitions}}E.TYPE="tab",E._attributeDefinitions=E._createAttributeDefinitions();class v extends f{constructor(t,e){super(t),this._dirty=!0,this._drawChildren=[],this._minHeight=0,this._minWidth=0,v._attributeDefinitions.fromJson(e,this._attributes),t._addNode(this)}static _fromJson(t,e){const i=new v(e,t);if(null!=t.children)for(const r of t.children)if(r.type===y.TYPE){const t=y._fromJson(r,e);i._addChild(t)}else{const t=v._fromJson(r,e);i._addChild(t)}return i}static _createAttributeDefinitions(){const t=new u;return t.add("type",v.TYPE,!0).setType(_.STRING).setFixed(),t.add("id",void 0).setType(_.STRING),t.add("weight",100).setType(_.NUMBER),t.add("width",void 0).setType(_.NUMBER),t.add("height",void 0).setType(_.NUMBER),t}getWeight(){return this._attributes.weight}getWidth(){return this._getAttr("width")}getHeight(){return this._getAttr("height")}_setWeight(t){this._attributes.weight=t}_layout(t,e){super._layout(t,e);const i=this._rect._getSize(this.getOrientation());let r=0,o=0,a=0,l=0;const d=this._getDrawChildren();for(const t of d){const e=t._getPrefSize(this.getOrientation());t._isFixed()?void 0!==e&&(o+=e):void 0===e?r+=t.getWeight():(a+=e,l+=t.getWeight())}let h=!1,c=i-o-a;c<0&&(c=i-o,h=!0,r+=l);let _=0,u=0;for(const t of d){const e=t._getPrefSize(this.getOrientation());if(t._isFixed())void 0!==e&&t._setTempSize(e);else if(null==e||h){if(0===r)t._setTempSize(0);else{const e=t.getMinSize(this.getOrientation()),i=Math.floor(c*(t.getWeight()/r));t._setTempSize(Math.max(e,i))}u+=t._getTempSize()}else t._setTempSize(e);_+=t._getTempSize()}if(u>0){for(;_<i;)for(const t of d)if(!(t instanceof m)){const e=t._getPrefSize(this.getOrientation());!t._isFixed()&&(void 0===e||h)&&_<i&&(t._setTempSize(t._getTempSize()+1),_++)}for(;_>i;){let t=!1;for(const e of d)if(!(e instanceof m)){const r=e.getMinSize(this.getOrientation());e._getTempSize()>r&&_>i&&(e._setTempSize(e._getTempSize()-1),_--,t=!0)}if(!t)break}for(;_>i;){let t=!1;for(const e of d)e instanceof m||e._getTempSize()>0&&_>i&&(e._setTempSize(e._getTempSize()-1),_--,t=!0);if(!t)break}}let g=0;for(const t of d)this.getOrientation()===n.HORZ?t._layout(new s(this._rect.x+g,this._rect.y,t._getTempSize(),this._rect.height),e):t._layout(new s(this._rect.x,this._rect.y+g,this._rect.width,t._getTempSize()),e),g+=t._getTempSize();return!0}_getSplitterBounds(t,e=!1){const i=[0,0],r=this._getDrawChildren(),o=r.indexOf(t),s=r[o-1],a=r[o+1];if(this.getOrientation()===n.HORZ){const r=e?s.getMinWidth():0,o=e?a.getMinWidth():0;i[0]=s.getRect().x+r,i[1]=a.getRect().getRight()-t.getWidth()-o}else{const r=e?s.getMinHeight():0,o=e?a.getMinHeight():0;i[0]=s.getRect().y+r,i[1]=a.getRect().getBottom()-t.getHeight()-o}return i}_calculateSplit(t,e){let i;const r=this._getDrawChildren(),o=r.indexOf(t),n=this._getSplitterBounds(t),s=r[o-1].getWeight()+r[o+1].getWeight(),a=Math.max(0,e-n[0]),l=Math.max(0,n[1]-e);if(a+l>0){const t=a*s/(a+l),e=l*s/(a+l);i={node1Id:r[o-1].getId(),weight1:t,pixelWidth1:a,node2Id:r[o+1].getId(),weight2:e,pixelWidth2:l}}return i}_getDrawChildren(){if(this._dirty){this._drawChildren=[];for(let t=0;t<this._children.length;t++){const e=this._children[t];if(0!==t){const t=new m(this._model);t._setParent(this),this._drawChildren.push(t)}this._drawChildren.push(e)}this._dirty=!1}return this._drawChildren}getMinSize(t){return t===n.HORZ?this.getMinWidth():this.getMinHeight()}getMinWidth(){return this._minWidth}getMinHeight(){return this._minHeight}calcMinSize(){this._minHeight=0,this._minWidth=0;let t=!0;for(const e of this._children){const i=e;i instanceof v&&i.calcMinSize(),this.getOrientation()===n.VERT?(this._minHeight+=i.getMinHeight(),t||(this._minHeight+=this._model.getSplitterSize()),this._minWidth=Math.max(this._minWidth,i.getMinWidth())):(this._minWidth+=i.getMinWidth(),t||(this._minWidth+=this._model.getSplitterSize()),this._minHeight=Math.max(this._minHeight,i.getMinHeight())),t=!1}}_tidy(){let t=0;for(;t<this._children.length;){const e=this._children[t];if(e instanceof v){e._tidy();const i=e.getChildren();if(0===i.length)this._removeChild(e);else if(1===i.length){const r=i[0];if(this._removeChild(e),r instanceof v){let i=0;const o=r.getChildren();for(const t of o)i+=t.getWeight();for(let r=0;r<o.length;r++){const n=o[r];n._setWeight(e.getWeight()*n.getWeight()/i),this._addChild(n,t+r)}}else r._setWeight(e.getWeight()),this._addChild(r,t)}else t++}else e instanceof y&&0===e.getChildren().length&&e.isEnableDeleteWhenEmpty()?(this._removeChild(e),e===this._model.getMaximizedTabset()&&this._model._setMaximizedTabset(void 0)):t++}if(this===this._model.getRoot()&&0===this._children.length){const t=this._model._getOnCreateTabSet();let e=t?t():{};e=Object.assign(Object.assign({},e),{selected:-1});const i=new y(this._model,e);this._model._setActiveTabset(i),this._addChild(i)}}canDrop(t,e,i){const r=i-this._rect.y,o=e-this._rect.x,n=this._rect.width,s=this._rect.height,l=50;let d;if(this._model.isEnableEdgeDock()&&void 0===this._parent){if(e<this._rect.x+10&&r>s/2-l&&r<s/2+l){const t=a.LEFT,e=t.getDockRect(this._rect);e.width=e.width/2,d=new g(this,e,t,-1,b.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(e>this._rect.getRight()-10&&r>s/2-l&&r<s/2+l){const t=a.RIGHT,e=t.getDockRect(this._rect);e.width=e.width/2,e.x+=e.width,d=new g(this,e,t,-1,b.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(i<this._rect.y+10&&o>n/2-l&&o<n/2+l){const t=a.TOP,e=t.getDockRect(this._rect);e.height=e.height/2,d=new g(this,e,t,-1,b.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(i>this._rect.getBottom()-10&&o>n/2-l&&o<n/2+l){const t=a.BOTTOM,e=t.getDockRect(this._rect);e.height=e.height/2,e.y+=e.height,d=new g(this,e,t,-1,b.FLEXLAYOUT__OUTLINE_RECT_EDGE)}if(void 0!==d&&!t._canDockInto(t,d))return}return d}drop(t,e,i){const r=e,o=t.getParent();let n;if(o&&o._removeChild(t),void 0!==o&&o.getType()===y.TYPE&&o._setSelected(0),void 0!==o&&o.getType()===R.TYPE&&o._setSelected(-1),t instanceof y)n=t;else{const e=this._model._getOnCreateTabSet();n=new y(this._model,e?e(t):{}),n._addChild(t)}let s=this._children.reduce(((t,e)=>t+e.getWeight()),0);0===s&&(s=100),n._setWeight(s/3);const l=!this._model.isRootOrientationVertical();if(l&&r===a.LEFT||!l&&r===a.TOP)this._addChild(n,0);else if(l&&r===a.RIGHT||!l&&r===a.BOTTOM)this._addChild(n);else if(l&&r===a.TOP||!l&&r===a.LEFT){const t=new v(this._model,{}),e=new v(this._model,{});e._setWeight(75),n._setWeight(25);for(const t of this._children)e._addChild(t);this._removeAll(),t._addChild(n),t._addChild(e),this._addChild(t)}else if(l&&r===a.BOTTOM||!l&&r===a.RIGHT){const t=new v(this._model,{}),e=new v(this._model,{});e._setWeight(75),n._setWeight(25);for(const t of this._children)e._addChild(t);this._removeAll(),t._addChild(e),t._addChild(n),this._addChild(t)}this._model._setActiveTabset(n),this._model._tidy()}toJson(){const t={};v._attributeDefinitions.toJson(t,this._attributes),t.children=[];for(const e of this._children)t.children.push(e.toJson());return t}isEnableDrop(){return!0}_getPrefSize(t){let e=this.getWidth();return t===n.VERT&&(e=this.getHeight()),e}_getAttributeDefinitions(){return v._attributeDefinitions}_updateAttrs(t){v._attributeDefinitions.update(t,this._attributes)}static getAttributeDefinitions(){return v._attributeDefinitions}}v.TYPE="row",v._attributeDefinitions=v._createAttributeDefinitions();class y extends f{constructor(t,e){super(t),y._attributeDefinitions.fromJson(e,this._attributes),t._addNode(this),this._calculatedTabBarHeight=0,this._calculatedHeaderBarHeight=0}static _fromJson(t,e){const i=new y(e,t);if(null!=t.children)for(const r of t.children){const t=E._fromJson(r,e);i._addChild(t)}return 0===i._children.length&&i._setSelected(-1),t.maximized&&!0===t.maximized&&e._setMaximizedTabset(i),t.active&&!0===t.active&&e._setActiveTabset(i),i}static _createAttributeDefinitions(){const t=new u;return t.add("type",y.TYPE,!0).setType(_.STRING).setFixed(),t.add("id",void 0).setType(_.STRING),t.add("weight",100).setType(_.NUMBER),t.add("width",void 0).setType(_.NUMBER),t.add("height",void 0).setType(_.NUMBER),t.add("selected",0).setType(_.NUMBER),t.add("name",void 0).setType(_.STRING),t.add("config",void 0).setType("any"),t.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),t.addInherited("enableDrop","tabSetEnableDrop"),t.addInherited("enableDrag","tabSetEnableDrag"),t.addInherited("enableDivide","tabSetEnableDivide"),t.addInherited("enableMaximize","tabSetEnableMaximize"),t.addInherited("enableClose","tabSetEnableClose"),t.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),t.addInherited("classNameHeader","tabSetClassNameHeader"),t.addInherited("enableTabStrip","tabSetEnableTabStrip"),t.addInherited("borderInsets","tabSetBorderInsets"),t.addInherited("marginInsets","tabSetMarginInsets"),t.addInherited("minWidth","tabSetMinWidth"),t.addInherited("minHeight","tabSetMinHeight"),t.addInherited("headerHeight","tabSetHeaderHeight"),t.addInherited("tabStripHeight","tabSetTabStripHeight"),t.addInherited("tabLocation","tabSetTabLocation"),t.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(_.BOOLEAN),t}getName(){return this._getAttr("name")}getSelected(){const t=this._attributes.selected;return void 0!==t?t:-1}getSelectedNode(){const t=this.getSelected();if(-1!==t)return this._children[t]}getWeight(){return this._getAttr("weight")}getWidth(){return this._getAttr("width")}getMinWidth(){return this._getAttr("minWidth")}getHeight(){return this._getAttr("height")}getMinHeight(){return this._getAttr("minHeight")}getMinSize(t){return t===n.HORZ?this.getMinWidth():this.getMinHeight()}getConfig(){return this._attributes.config}isMaximized(){return this._model.getMaximizedTabset()===this}isActive(){return this._model.getActiveTabset()===this}isEnableDeleteWhenEmpty(){return this._getAttr("enableDeleteWhenEmpty")}isEnableDrop(){return this._getAttr("enableDrop")}isEnableDrag(){return this._getAttr("enableDrag")}isEnableDivide(){return this._getAttr("enableDivide")}isEnableMaximize(){return this._getAttr("enableMaximize")}isEnableClose(){return this._getAttr("enableClose")}canMaximize(){return!!this.isEnableMaximize()&&(this.getModel().getMaximizedTabset()===this||this.getParent()!==this.getModel().getRoot()||1!==this.getModel().getRoot().getChildren().length)}isEnableTabStrip(){return this._getAttr("enableTabStrip")}isAutoSelectTab(){return this._getAttr("autoSelectTab")}getClassNameTabStrip(){return this._getAttr("classNameTabStrip")}getClassNameHeader(){return this._getAttr("classNameHeader")}calculateHeaderBarHeight(t){const e=this._getAttr("headerHeight");this._calculatedHeaderBarHeight=0!==e?e:t.headerBarSize}calculateTabBarHeight(t){const e=this._getAttr("tabStripHeight");this._calculatedTabBarHeight=0!==e?e:t.tabBarSize}getHeaderHeight(){return this._calculatedHeaderBarHeight}getTabStripHeight(){return this._calculatedTabBarHeight}getTabLocation(){return this._getAttr("tabLocation")}_setWeight(t){this._attributes.weight=t}_setSelected(t){this._attributes.selected=t}canDrop(t,e,i){let r;if(t===this){const t=a.CENTER,e=this._tabHeaderRect;r=new g(this,e,t,-1,b.FLEXLAYOUT__OUTLINE_RECT)}else if(this._contentRect.contains(e,i)){let t=a.CENTER;void 0===this._model.getMaximizedTabset()&&(t=a.getLocation(this._contentRect,e,i));const o=t.getDockRect(this._rect);r=new g(this,o,t,-1,b.FLEXLAYOUT__OUTLINE_RECT)}else if(null!=this._tabHeaderRect&&this._tabHeaderRect.contains(e,i)){let t,i,o;if(0===this._children.length)t=this._tabHeaderRect.clone(),i=t.y+3,o=t.height-4,t.width=2;else{let n=this._children[0];t=n.getTabRect(),i=t.y,o=t.height;let l=this._tabHeaderRect.x,d=0;for(let h=0;h<this._children.length;h++){if(n=this._children[h],t=n.getTabRect(),d=t.x+t.width/2,e>=l&&e<d){const e=a.CENTER,n=new s(t.x-2,i,3,o);r=new g(this,n,e,h,b.FLEXLAYOUT__OUTLINE_RECT);break}l=d}}if(null==r){const e=a.CENTER,n=new s(t.getRight()-2,i,3,o);r=new g(this,n,e,this._children.length,b.FLEXLAYOUT__OUTLINE_RECT)}}if(t._canDockInto(t,r))return r}_layout(t,e){this.calculateHeaderBarHeight(e),this.calculateTabBarHeight(e),this.isMaximized()&&(t=this._model.getRoot().getRect()),t=t.removeInsets(this._getAttr("marginInsets")),this._rect=t,t=t.removeInsets(this._getAttr("borderInsets"));let i=0,r=0;void 0!==this.getName()&&(i+=this._calculatedHeaderBarHeight,r+=this._calculatedHeaderBarHeight),this.isEnableTabStrip()&&("top"===this.getTabLocation()?this._tabHeaderRect=new s(t.x,t.y+i,t.width,this._calculatedTabBarHeight):this._tabHeaderRect=new s(t.x,t.y+t.height-this._calculatedTabBarHeight,t.width,this._calculatedTabBarHeight),r+=this._calculatedTabBarHeight,"top"===this.getTabLocation()&&(i+=this._calculatedTabBarHeight)),this._contentRect=new s(t.x,t.y+i,t.width,t.height-r);for(let t=0;t<this._children.length;t++){const i=this._children[t];i._layout(this._contentRect,e),i._setVisible(t===this.getSelected())}}_delete(){this._parent._removeChild(this)}_remove(t){const e=this._removeChild(t);this._model._tidy(),O(this,e)}drop(t,e,i,r){const o=e;if(this===t)return;let n=t.getParent(),s=0;if(void 0!==n&&(s=n._removeChild(t),n instanceof R&&n.getSelected()===s?n._setSelected(-1):O(n,s)),t.getType()===E.TYPE&&n===this&&s<i&&i>0&&i--,o===a.CENTER){let e=i;if(-1===e&&(e=this._children.length),t.getType()===E.TYPE)this._addChild(t,e),(r||!1!==r&&this.isAutoSelectTab())&&this._setSelected(e);else{for(let i=0;i<t.getChildren().length;i++){const r=t.getChildren()[i];this._addChild(r,e),e++}-1===this.getSelected()&&this._children.length>0&&this._setSelected(0)}this._model._setActiveTabset(this)}else{let e;if(t instanceof E){const i=this._model._getOnCreateTabSet();e=new y(this._model,i?i(t):{}),e._addChild(t),n=e}else e=t;const i=this._parent,r=i.getChildren().indexOf(this);if(i.getOrientation()===o._orientation)e._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),i._addChild(e,r+o._indexPlus);else{const t=new v(this._model,{});t._setWeight(this.getWeight()),t._addChild(this),this._setWeight(50),e._setWeight(50),t._addChild(e,o._indexPlus),i._removeChild(this),i._addChild(t,r)}this._model._setActiveTabset(e)}this._model._tidy()}toJson(){const t={};return y._attributeDefinitions.toJson(t,this._attributes),t.children=this._children.map((t=>t.toJson())),this.isActive()&&(t.active=!0),this.isMaximized()&&(t.maximized=!0),t}_updateAttrs(t){y._attributeDefinitions.update(t,this._attributes)}_getAttributeDefinitions(){return y._attributeDefinitions}_getPrefSize(t){let e=this.getWidth();return t===n.VERT&&(e=this.getHeight()),e}static getAttributeDefinitions(){return y._attributeDefinitions}}function O(t,e){if(void 0!==t&&(t.getType()===y.TYPE||t.getType()===R.TYPE)){const i=t.getSelected();-1!==i&&(e===i&&t.getChildren().length>0?e>=t.getChildren().length&&t._setSelected(t.getChildren().length-1):e<i?t._setSelected(i-1):e>i||t._setSelected(-1))}}y.TYPE="tabset",y._attributeDefinitions=y._createAttributeDefinitions();class R extends f{constructor(t,e,i){super(i),this._adjustedSize=0,this._calculatedBorderBarSize=0,this._location=t,this._drawChildren=[],this._attributes.id=`border_${t.getName()}`,R._attributeDefinitions.fromJson(e,this._attributes),i._addNode(this)}static _fromJson(t,e){const i=a.getByName(t.location),r=new R(i,t,e);return t.children&&(r._children=t.children.map((t=>{const i=E._fromJson(t,e);return i._setParent(r),i}))),r}static _createAttributeDefinitions(){const t=new u;return t.add("type",R.TYPE,!0).setType(_.STRING).setFixed(),t.add("selected",-1).setType(_.NUMBER),t.add("show",!0).setType(_.BOOLEAN),t.add("config",void 0).setType("any"),t.addInherited("barSize","borderBarSize").setType(_.NUMBER),t.addInherited("enableDrop","borderEnableDrop").setType(_.BOOLEAN),t.addInherited("className","borderClassName").setType(_.STRING),t.addInherited("autoSelectTabWhenOpen","borderAutoSelectTabWhenOpen").setType(_.BOOLEAN),t.addInherited("autoSelectTabWhenClosed","borderAutoSelectTabWhenClosed").setType(_.BOOLEAN),t.addInherited("size","borderSize").setType(_.NUMBER),t.addInherited("minSize","borderMinSize").setType(_.NUMBER),t.addInherited("enableAutoHide","borderEnableAutoHide").setType(_.BOOLEAN),t}getLocation(){return this._location}getTabHeaderRect(){return this._tabHeaderRect}getRect(){return this._tabHeaderRect}getContentRect(){return this._contentRect}isEnableDrop(){return this._getAttr("enableDrop")}isAutoSelectTab(t){return null==t&&(t=-1!==this.getSelected()),t?this._getAttr("autoSelectTabWhenOpen"):this._getAttr("autoSelectTabWhenClosed")}getClassName(){return this._getAttr("className")}calcBorderBarSize(t){const e=this._getAttr("barSize");this._calculatedBorderBarSize=0!==e?e:t.borderBarSize}getBorderBarSize(){return this._calculatedBorderBarSize}getSize(){const t=this._getAttr("size"),e=this.getSelected();if(-1===e)return t;{const i=this._children[e],r=this._location._orientation===n.HORZ?i._getAttr("borderWidth"):i._getAttr("borderHeight");return-1===r?t:r}}getMinSize(){return this._getAttr("minSize")}getSelected(){return this._attributes.selected}getSelectedNode(){if(-1!==this.getSelected())return this._children[this.getSelected()]}getOrientation(){return this._location.getOrientation()}getConfig(){return this._attributes.config}isMaximized(){return!1}isShowing(){return!(!this._attributes.show||this._model._getShowHiddenBorder()!==this._location&&this.isAutoHide()&&0===this._children.length)}isAutoHide(){return this._getAttr("enableAutoHide")}_setSelected(t){this._attributes.selected=t}_setSize(t){const e=this.getSelected();if(-1===e)this._attributes.size=t;else{const i=this._children[e];-1===(this._location._orientation===n.HORZ?i._getAttr("borderWidth"):i._getAttr("borderHeight"))?this._attributes.size=t:this._location._orientation===n.HORZ?i._setBorderWidth(t):i._setBorderHeight(t)}}_updateAttrs(t){R._attributeDefinitions.update(t,this._attributes)}_getDrawChildren(){return this._drawChildren}_setAdjustedSize(t){this._adjustedSize=t}_getAdjustedSize(){return this._adjustedSize}_layoutBorderOuter(t,e){this.calcBorderBarSize(e);const i=this._location.split(t,this.getBorderBarSize());return this._tabHeaderRect=i.start,i.end}_layoutBorderInner(t,e){this._drawChildren=[];const i=this._location,r=i.split(t,this._adjustedSize+this._model.getSplitterSize()),o=i.reflect().split(r.start,this._model.getSplitterSize());this._contentRect=o.end;for(let t=0;t<this._children.length;t++){const i=this._children[t];i._layout(this._contentRect,e),i._setVisible(t===this.getSelected()),this._drawChildren.push(i)}if(-1===this.getSelected())return t;{const t=new m(this._model);return t._setParent(this),t._setRect(o.start),this._drawChildren.push(t),r.end}}_remove(t){const e=this._removeChild(t);-1!==this.getSelected()&&O(this,e)}canDrop(t,e,i){if(t.getType()!==E.TYPE)return;let r;const o=a.CENTER;if(this._tabHeaderRect.contains(e,i)){if(this._location._orientation===n.VERT)if(this._children.length>0){let t=this._children[0],i=t.getTabRect();const n=i.y,a=i.height;let l=this._tabHeaderRect.x,d=0;for(let h=0;h<this._children.length;h++){if(t=this._children[h],i=t.getTabRect(),d=i.x+i.width/2,e>=l&&e<d){const t=new s(i.x-2,n,3,a);r=new g(this,t,o,h,b.FLEXLAYOUT__OUTLINE_RECT);break}l=d}if(null==r){const t=new s(i.getRight()-2,n,3,a);r=new g(this,t,o,this._children.length,b.FLEXLAYOUT__OUTLINE_RECT)}}else{const t=new s(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);r=new g(this,t,o,0,b.FLEXLAYOUT__OUTLINE_RECT)}else if(this._children.length>0){let t=this._children[0],e=t.getTabRect();const n=e.x,a=e.width;let l=this._tabHeaderRect.y,d=0;for(let h=0;h<this._children.length;h++){if(t=this._children[h],e=t.getTabRect(),d=e.y+e.height/2,i>=l&&i<d){const t=new s(n,e.y-2,a,3);r=new g(this,t,o,h,b.FLEXLAYOUT__OUTLINE_RECT);break}l=d}if(null==r){const t=new s(n,e.getBottom()-2,a,3);r=new g(this,t,o,this._children.length,b.FLEXLAYOUT__OUTLINE_RECT)}}else{const t=new s(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);r=new g(this,t,o,0,b.FLEXLAYOUT__OUTLINE_RECT)}if(!t._canDockInto(t,r))return}else if(-1!==this.getSelected()&&this._contentRect.contains(e,i)){const e=this._contentRect;if(r=new g(this,e,o,-1,b.FLEXLAYOUT__OUTLINE_RECT),!t._canDockInto(t,r))return}return r}drop(t,e,i,r){let o=0;const n=t.getParent();void 0!==n&&(o=n._removeChild(t),n!==this&&n instanceof R&&n.getSelected()===o?n._setSelected(-1):O(n,o)),t.getType()===E.TYPE&&n===this&&o<i&&i>0&&i--;let s=i;-1===s&&(s=this._children.length),t.getType()===E.TYPE&&this._addChild(t,s),(r||!1!==r&&this.isAutoSelectTab())&&this._setSelected(s),this._model._tidy()}toJson(){const t={};return R._attributeDefinitions.toJson(t,this._attributes),t.location=this._location.getName(),t.children=this._children.map((t=>t.toJson())),t}_getSplitterBounds(t,e=!1){const i=[0,0],r=e?this.getMinSize():0,o=this._model._getOuterInnerRects().outer,n=this._model._getOuterInnerRects().inner,s=this._model.getRoot();return this._location===a.TOP?(i[0]=o.y+r,i[1]=Math.max(i[0],n.getBottom()-t.getHeight()-s.getMinHeight())):this._location===a.LEFT?(i[0]=o.x+r,i[1]=Math.max(i[0],n.getRight()-t.getWidth()-s.getMinWidth())):this._location===a.BOTTOM?(i[1]=o.getBottom()-t.getHeight()-r,i[0]=Math.min(i[1],n.y+s.getMinHeight())):this._location===a.RIGHT&&(i[1]=o.getRight()-t.getWidth()-r,i[0]=Math.min(i[1],n.x+s.getMinWidth())),i}_calculateSplit(t,e){const i=this._getSplitterBounds(t);return this._location===a.BOTTOM||this._location===a.RIGHT?Math.max(0,i[1]-e):Math.max(0,e-i[0])}_getAttributeDefinitions(){return R._attributeDefinitions}static getAttributeDefinitions(){return R._attributeDefinitions}}function A(t,e,i,o){let n=i?i(e):void 0,s=e.getName(),a=e.getName();if(void 0!==o){const t=o(e);void 0!==t&&("string"==typeof t?(s=t,a=t):void 0!==t.titleContent?(s=t.titleContent,a=t.name):s=t)}void 0===n&&void 0!==e.getIcon()&&(n=r.createElement("img",{style:{width:"1em",height:"1em"},src:e.getIcon(),alt:"leadingContent"}));const l={leading:n,content:s,name:a,buttons:[]};return t.customizeTab(e,l),e._setRenderedName(l.name),l}function L(t,e){e?t.visibility="hidden":t.display="none"}function x(t){let e=!1;return t.nativeEvent instanceof MouseEvent&&(0!==t.nativeEvent.button||t.ctrlKey||t.altKey||t.metaKey||t.shiftKey)&&(e=!0),e}R.TYPE="border",R._attributeDefinitions=R._createAttributeDefinitions(),function(t){t.Close_Tab="Close",t.Close_Tabset="Close tabset",t.Move_Tab="Move: ",t.Move_Tabset="Move tabset",t.Maximize="Maximize tabset",t.Restore="Restore tabset",t.Float_Tab="Show selected tab in floating window",t.Overflow_Menu_Tooltip="Hidden tabs",t.Floating_Window_Message="This panel is shown in a floating window",t.Floating_Window_Show_Window="Show window",t.Floating_Window_Dock_Window="Dock window",t.Error_rendering_component="Error rendering component"}(p||(p={})),function(t){t[t.Visible=1]="Visible",t[t.Always=2]="Always",t[t.Selected=3]="Selected"}(T||(T={}));const N=t=>{const{layout:e,node:i,selected:o,border:n,iconFactory:a,titleFactory:l,icons:d,path:h}=t,_=r.useRef(null),u=r.useRef(null),g=t=>{x(t)||e.getEditingTab()||e.dragStart(t,void 0,i,i.isEnableDrag(),m,E)},f=t=>{x(t)&&e.auxMouseClick(i,t)},m=()=>{e.doAction(c.selectTab(i.getId()))},E=t=>{},v=t=>{(()=>{const t=i.getCloseType();return!!(o||t===T.Always||t===T.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)})()?e.doAction(c.deleteTab(i.getId())):m()},y=t=>{t.stopPropagation()};r.useLayoutEffect((()=>{O(),e.getEditingTab()===i&&u.current.select()}));const O=()=>{const t=e.getDomRect(),r=_.current.getBoundingClientRect();i._setTabRect(new s(r.left-t.left,r.top-t.top,r.width,r.height))},R=t=>{t.stopPropagation()},L=e.getClassName;let N=L(b.FLEXLAYOUT__BORDER_BUTTON)+" "+L(b.FLEXLAYOUT__BORDER_BUTTON_+n);N+=o?" "+L(b.FLEXLAYOUT__BORDER_BUTTON__SELECTED):" "+L(b.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED),void 0!==i.getClassName()&&(N+=" "+i.getClassName());const S=A(e,i,a,l);let w=S.content?r.createElement("div",{className:L(b.FLEXLAYOUT__BORDER_BUTTON_CONTENT)},S.content):null;const D=S.leading?r.createElement("div",{className:L(b.FLEXLAYOUT__BORDER_BUTTON_LEADING)},S.leading):null;if(e.getEditingTab()===i&&(w=r.createElement("input",{ref:u,className:L(b.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":h+"/textbox",type:"text",autoFocus:!0,defaultValue:i.getName(),onKeyDown:t=>{27===t.keyCode?e.setEditingTab(void 0):13===t.keyCode&&(e.setEditingTab(void 0),e.doAction(c.renameTab(i.getId(),t.target.value)))},onMouseDown:R,onTouchStart:R})),i.isEnableClose()){const t=e.i18nName(p.Close_Tab);S.buttons.push(r.createElement("div",{key:"close","data-layout-path":h+"/button/close",title:t,className:L(b.FLEXLAYOUT__BORDER_BUTTON_TRAILING),onMouseDown:y,onClick:v,onTouchStart:y},"function"==typeof d.close?d.close(i):d.close))}return r.createElement("div",{ref:_,"data-layout-path":h,className:N,onMouseDown:g,onClick:f,onAuxClick:f,onContextMenu:t=>{e.showContextMenu(i,t)},onTouchStart:g,title:i.getHelpText()},D,w,S.buttons)},S=t=>{const{layout:e,node:i,iconFactory:o,titleFactory:n}=t,s=r.useRef(null),a=e.getClassName;let l=a(b.FLEXLAYOUT__TAB_BUTTON_STAMP);const d=A(e,i,o,n);let h=d.content?r.createElement("div",{className:a(b.FLEXLAYOUT__TAB_BUTTON_CONTENT)},d.content):i._getNameForOverflowMenu();const c=d.leading?r.createElement("div",{className:a(b.FLEXLAYOUT__TAB_BUTTON_LEADING)},d.leading):null;return r.createElement("div",{ref:s,className:l,title:i.getHelpText()},c,h)};function w(t,e,i,o,n,s){const a=o.getRootDiv(),l=o.getClassName,h=t.ownerDocument,c=t.getBoundingClientRect(),_=a.getBoundingClientRect(),u=h.createElement("div");u.className=l(b.FLEXLAYOUT__POPUP_MENU_CONTAINER),c.left<_.left+_.width/2?u.style.left=c.left-_.left+"px":u.style.right=_.right-c.right+"px",c.top<_.top+_.height/2?u.style.top=c.top-_.top+"px":u.style.bottom=_.bottom-c.bottom+"px",d.instance.addGlass((()=>g())),d.instance.setGlassCursorOverride("default"),a.appendChild(u);const g=()=>{o.hidePortal(),d.instance.hideGlass(),a.removeChild(u),u.removeEventListener("mousedown",p),h.removeEventListener("mousedown",T)},p=t=>{t.stopPropagation()},T=t=>{g()};u.addEventListener("mousedown",p),h.addEventListener("mousedown",T),o.showPortal(r.createElement(D,{currentDocument:h,onSelect:i,onHide:g,items:e,classNameMapper:l,layout:o,iconFactory:n,titleFactory:s}),u)}const D=t=>{const{items:e,onHide:i,onSelect:o,classNameMapper:n,layout:s,iconFactory:a,titleFactory:l}=t,d=e.map(((t,e)=>r.createElement("div",{key:t.index,className:n(b.FLEXLAYOUT__POPUP_MENU_ITEM),"data-layout-path":"/popup-menu/tb"+e,onClick:e=>((t,e)=>{o(t),i(),e.stopPropagation()})(t,e),title:t.node.getHelpText()},t.node.getModel().isLegacyOverflowMenu()?t.node._getNameForOverflowMenu():r.createElement(S,{node:t.node,layout:s,iconFactory:a,titleFactory:l}))));return r.createElement("div",{className:n(b.FLEXLAYOUT__POPUP_MENU),"data-layout-path":"/popup-menu"},d)},B=(t,e,i,o)=>{const a=r.useRef(!0),l=r.useRef(!1),d=r.useRef(new s(0,0,0,0)),h=r.useRef(null),[c,_]=r.useState(0),u=r.useRef(!1),[g,b]=r.useState([]),p=r.useRef(0);r.useLayoutEffect((()=>{u.current=!1}),[t.getSelectedNode(),t.getRect().width,t.getRect().height]),r.useLayoutEffect((()=>{v()})),r.useEffect((()=>{const t=h.current;return t.addEventListener("wheel",T,{passive:!1}),()=>{t.removeEventListener("wheel",T)}}),[]);const T=t=>{t.preventDefault()},f=t=>e===n.HORZ?t.x:t.y,m=t=>e===n.HORZ?t.getRight():t.getBottom(),E=t=>e===n.HORZ?t.width:t.height,v=()=>{!0===a.current&&(l.current=!1);const e=t instanceof y?t.getRect():t.getTabHeaderRect();let r=t.getChildren()[t.getChildren().length-1];const n=null===o.current?0:E(o.current.getBoundingClientRect());if(!0===a.current||0===p.current&&0!==g.length||e.width!==d.current.width||e.height!==d.current.height){p.current=g.length,d.current=e;const o=!(t instanceof y)||!0===t.isEnableTabStrip();let s=m(e)-n;if(null!==i.current&&(s-=E(i.current.getBoundingClientRect())),o&&t.getChildren().length>0){if(0===g.length&&0===c&&m(r.getTabRect())+2<s)return;let i=0;const o=t.getSelectedNode();if(o&&!u.current){const t=o.getTabRect(),r=f(t)-2,n=m(t)+2;E(t)+4>=s-f(e)?i=f(e)-r:(n>s||r<f(e))&&(r<f(e)&&(i=f(e)-r),n+i>s&&(i=s-n))}const n=Math.max(0,s-(m(r.getTabRect())+2+i)),d=Math.min(0,c+i+n),h=d-c,p=[];for(let i=0;i<t.getChildren().length;i++){const r=t.getChildren()[i];(f(r.getTabRect())+h<f(e)||m(r.getTabRect())+h>s)&&p.push({node:r,index:i})}p.length>0&&(l.current=!0),a.current=!1,b(p),_(d)}}else a.current=!0};return{selfRef:h,position:c,userControlledLeft:u,hiddenTabs:g,onMouseWheel:t=>{let e=0;e=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX:-t.deltaY,1===t.deltaMode&&(e*=40),_(c+e),u.current=!0,t.stopPropagation()},tabsTruncated:l.current}},C=t=>{const{border:e,layout:i,iconFactory:o,titleFactory:s,icons:l,path:d}=t,h=r.useRef(null),_=r.useRef(null),u=r.useRef(null),{selfRef:g,position:T,userControlledLeft:f,hiddenTabs:m,onMouseWheel:E}=B(e,n.flip(e.getOrientation()),h,u),v=t=>{x(t)&&i.auxMouseClick(e,t)},y=t=>{t.stopPropagation()},O=t=>{const r=i.getShowOverflowMenu();void 0!==r?r(e,t,m,R):w(_.current,m,R,i,o,s),t.stopPropagation()},R=t=>{i.doAction(c.selectTab(t.node.getId())),f.current=!1},A=t=>{const r=e.getChildren()[e.getSelected()];void 0!==r&&i.doAction(c.floatTab(r.getId())),t.stopPropagation()},L=i.getClassName;let S=e.getTabHeaderRect().styleWithPosition({});const D=[],C=t=>{let n=e.getSelected()===t,a=e.getChildren()[t];D.push(r.createElement(N,{layout:i,border:e.getLocation().getName(),node:a,path:d+"/tb"+t,key:a.getId(),selected:n,iconFactory:o,titleFactory:s,icons:l})),t<e.getChildren().length-1&&D.push(r.createElement("div",{key:"divider"+t,className:L(b.FLEXLAYOUT__BORDER_TAB_DIVIDER)}))};for(let t=0;t<e.getChildren().length;t++)C(t);let M=L(b.FLEXLAYOUT__BORDER)+" "+L(b.FLEXLAYOUT__BORDER_+e.getLocation().getName());void 0!==e.getClassName()&&(M+=" "+e.getClassName());let U=[];const I={headerContent:void 0,buttons:U,stickyButtons:[],headerButtons:[]};let F;if(i.customizeTabSet(e,I),U=I.buttons,m.length>0){const t=i.i18nName(p.Overflow_Menu_Tooltip);let o;o="function"==typeof l.more?l.more(e,m):r.createElement(r.Fragment,null,l.more,r.createElement("div",{className:L(b.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},m.length)),U.push(r.createElement("button",{key:"overflowbutton",ref:_,className:L(b.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+L(b.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW)+" "+L(b.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_+e.getLocation().getName()),title:t,onClick:O,onMouseDown:y,onTouchStart:y},o))}const z=e.getSelected();if(-1!==z){const t=e.getChildren()[z];if(void 0!==t&&i.isSupportsPopout()&&t.isEnableFloat()&&!t.isFloating()){const e=i.i18nName(p.Float_Tab);U.push(r.createElement("button",{key:"float",title:e,className:L(b.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+L(b.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),onClick:A,onMouseDown:y,onTouchStart:y},"function"==typeof l.popout?l.popout(t):l.popout))}}F=r.createElement("div",{key:"toolbar",ref:h,className:L(b.FLEXLAYOUT__BORDER_TOOLBAR)+" "+L(b.FLEXLAYOUT__BORDER_TOOLBAR_+e.getLocation().getName())},U),S=i.styleFont(S);let k={};const Y=e.getBorderBarSize()-1;return k=e.getLocation()===a.LEFT?{right:Y,height:Y,top:T}:e.getLocation()===a.RIGHT?{left:Y,height:Y,top:T}:{height:Y,left:T},r.createElement("div",{ref:g,dir:"ltr",style:S,className:M,"data-layout-path":d,onClick:v,onAuxClick:v,onContextMenu:t=>{i.showContextMenu(e,t)},onWheel:E},r.createElement("div",{style:{height:Y},className:L(b.FLEXLAYOUT__BORDER_INNER)+" "+L(b.FLEXLAYOUT__BORDER_INNER_+e.getLocation().getName())},r.createElement("div",{style:k,className:L(b.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER)+" "+L(b.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_+e.getLocation().getName())},D)),F)},M=t=>{const{layout:e,node:i,path:o}=t,s=r.useRef([]),a=r.useRef(void 0),l=i.getParent(),h=t=>{d.instance.setGlassCursorOverride(i.getOrientation()===n.HORZ?"ns-resize":"ew-resize"),d.instance.startDrag(t,u,g,T,_,void 0,void 0,e.getCurrentDocument(),e.getRootDiv()),s.current=l._getSplitterBounds(i,!0);const r=e.getRootDiv();a.current=e.getCurrentDocument().createElement("div"),a.current.style.position="absolute",a.current.className=e.getClassName(b.FLEXLAYOUT__SPLITTER_DRAG),a.current.style.cursor=i.getOrientation()===n.HORZ?"ns-resize":"ew-resize";const o=i.getRect();i.getOrientation()===n.VERT&&o.width<2?o.width=2:i.getOrientation()===n.HORZ&&o.height<2&&(o.height=2),o.positionElement(a.current),r.appendChild(a.current)},_=t=>{e.getRootDiv().removeChild(a.current)},u=()=>!0,g=t=>{const r=e.getDomRect(),o=t.clientX-r.left,s=t.clientY-r.top;a&&(i.getOrientation()===n.HORZ?a.current.style.top=f(s-4)+"px":a.current.style.left=f(o-4)+"px"),e.isRealtimeResize()&&p()},p=()=>{let t=0;if(a&&(t=i.getOrientation()===n.HORZ?a.current.offsetTop:a.current.offsetLeft),l instanceof R){const r=l._calculateSplit(i,t);e.doAction(c.adjustBorderSplit(i.getParent().getId(),r))}else{const r=l._calculateSplit(i,t);void 0!==r&&e.doAction(c.adjustSplit(r))}},T=()=>{p(),e.getRootDiv().removeChild(a.current)},f=t=>{const e=s.current;let i=t;return t<e[0]&&(i=e[0]),t>e[1]&&(i=e[1]),i},m=e.getClassName;let E=i.getRect();const v=E.styleWithPosition({cursor:i.getOrientation()===n.HORZ?"ns-resize":"ew-resize"});let y=m(b.FLEXLAYOUT__SPLITTER)+" "+m(b.FLEXLAYOUT__SPLITTER_+i.getOrientation().getName());l instanceof R?y+=" "+m(b.FLEXLAYOUT__SPLITTER_BORDER):void 0!==i.getModel().getMaximizedTabset()&&(v.display="none");const O=i.getModel().getSplitterExtra();if(0===O)return r.createElement("div",{style:v,"data-layout-path":o,className:y,onTouchStart:h,onMouseDown:h});{let t=E.clone();t.x=0,t.y=0,i.getOrientation()===n.VERT?t.width+=O:t.height+=O;const e=t.styleWithPosition({cursor:i.getOrientation()===n.HORZ?"ns-resize":"ew-resize"}),s=m(b.FLEXLAYOUT__SPLITTER_EXTRA);return r.createElement("div",{style:v,"data-layout-path":o,className:y},r.createElement("div",{style:e,className:s,onTouchStart:h,onMouseDown:h}))}};class U extends r.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){console.debug(t),console.debug(e)}render(){return this.state.hasError?r.createElement("div",{className:b.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER},r.createElement("div",{className:b.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT},this.props.message)):this.props.children}}const I=t=>{const{layout:e,selected:i,node:o,factory:n,path:s}=t,[a,l]=r.useState(!t.node.isEnableRenderOnDemand()||t.selected);r.useLayoutEffect((()=>{!a&&i&&l(!0)}));const d=()=>{const t=o.getParent();t.getType()===y.TYPE&&(t.isActive()||e.doAction(c.setActiveTabset(t.getId())))},h=e.getClassName,_=o.getModel().isUseVisibility(),u=o.getParent(),g=o._styleWithPosition();let T;i||L(g,_),u instanceof y&&(void 0===o.getModel().getMaximizedTabset()||u.isMaximized()||L(g,_)),a&&(T=n(o));let f=h(b.FLEXLAYOUT__TAB);return u instanceof R&&(f+=" "+h(b.FLEXLAYOUT__TAB_BORDER),f+=" "+h(b.FLEXLAYOUT__TAB_BORDER_+u.getLocation().getName())),r.createElement("div",{className:f,"data-layout-path":s,onMouseDown:d,onTouchStart:d,style:g},r.createElement(U,{message:t.layout.i18nName(p.Error_rendering_component)},r.createElement(r.Fragment,null,T)))},F=t=>{const{layout:e,node:i,selected:o,iconFactory:n,titleFactory:a,icons:l,path:d}=t,h=r.useRef(null),_=r.useRef(null),u=t=>{x(t)||e.getEditingTab()||e.dragStart(t,void 0,i,i.isEnableDrag(),f,m)},g=t=>{x(t)&&e.auxMouseClick(i,t)},f=()=>{e.doAction(c.selectTab(i.getId()))},m=t=>{i.isEnableRename()&&E()},E=()=>{e.setEditingTab(i),e.getCurrentDocument().body.addEventListener("mousedown",v),e.getCurrentDocument().body.addEventListener("touchstart",v)},v=t=>{t.target!==_.current&&(e.getCurrentDocument().body.removeEventListener("mousedown",v),e.getCurrentDocument().body.removeEventListener("touchstart",v),e.setEditingTab(void 0))},y=t=>{(()=>{const t=i.getCloseType();return!!(o||t===T.Always||t===T.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)})()?e.doAction(c.deleteTab(i.getId())):f()},O=t=>{t.stopPropagation()};r.useLayoutEffect((()=>{R(),e.getEditingTab()===i&&_.current.select()}));const R=()=>{const t=e.getDomRect(),r=h.current.getBoundingClientRect();i._setTabRect(new s(r.left-t.left,r.top-t.top,r.width,r.height))},L=t=>{t.stopPropagation()},N=e.getClassName,S=i.getParent();let w=b.FLEXLAYOUT__TAB_BUTTON,D=N(w);D+=" "+N(w+"_"+S.getTabLocation()),D+=o?" "+N(w+"--selected"):" "+N(w+"--unselected"),void 0!==i.getClassName()&&(D+=" "+i.getClassName());const B=A(e,i,n,a);let C=B.content?r.createElement("div",{className:N(b.FLEXLAYOUT__TAB_BUTTON_CONTENT)},B.content):null;const M=B.leading?r.createElement("div",{className:N(b.FLEXLAYOUT__TAB_BUTTON_LEADING)},B.leading):null;if(e.getEditingTab()===i&&(C=r.createElement("input",{ref:_,className:N(b.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":d+"/textbox",type:"text",autoFocus:!0,defaultValue:i.getName(),onKeyDown:t=>{27===t.keyCode?e.setEditingTab(void 0):13===t.keyCode&&(e.setEditingTab(void 0),e.doAction(c.renameTab(i.getId(),t.target.value)))},onMouseDown:L,onTouchStart:L})),i.isEnableClose()){const t=e.i18nName(p.Close_Tab);B.buttons.push(r.createElement("div",{key:"close","data-layout-path":d+"/button/close",title:t,className:N(b.FLEXLAYOUT__TAB_BUTTON_TRAILING),onMouseDown:O,onClick:y,onTouchStart:O},"function"==typeof l.close?l.close(i):l.close))}return r.createElement("div",{ref:h,"data-layout-path":d,className:D,onMouseDown:u,onClick:g,onAuxClick:g,onContextMenu:t=>{e.showContextMenu(i,t)},onTouchStart:u,title:i.getHelpText()},M,C,B.buttons)},z=t=>{const{node:e,layout:i,iconFactory:o,titleFactory:s,icons:a,path:l}=t,d=r.useRef(null),h=r.useRef(null),_=r.useRef(null),u=r.useRef(null),{selfRef:g,position:T,userControlledLeft:f,hiddenTabs:m,onMouseWheel:E,tabsTruncated:v}=B(e,n.HORZ,d,u),y=t=>{const r=i.getShowOverflowMenu();void 0!==r?r(e,t,m,O):w(h.current,m,O,i,o,s),t.stopPropagation()},O=t=>{i.doAction(c.selectTab(t.node.getId())),f.current=!1},R=t=>{if(!x(t)){let r=e.getName();if(r=void 0===r?"":": "+r,i.doAction(c.setActiveTabset(e.getId())),!i.getEditingTab()){const o=i.i18nName(p.Move_Tabset,r);void 0!==e.getModel().getMaximizedTabset()?i.dragStart(t,o,e,!1,(t=>{}),U):i.dragStart(t,o,e,e.isEnableDrag(),(t=>{}),U)}}},A=t=>{x(t)&&i.auxMouseClick(e,t)},N=t=>{i.showContextMenu(e,t)},S=t=>{t.stopPropagation()},D=t=>{e.canMaximize()&&i.maximize(e),t.stopPropagation()},C=t=>{i.doAction(c.deleteTabset(e.getId())),t.stopPropagation()},M=t=>{void 0!==z&&i.doAction(c.floatTab(z.getId())),t.stopPropagation()},U=t=>{e.canMaximize()&&i.maximize(e)},I=i.getClassName;null!==_.current&&0!==_.current.scrollLeft&&(_.current.scrollLeft=0);const z=e.getSelectedNode();let k=e._styleWithPosition();void 0===e.getModel().getMaximizedTabset()||e.isMaximized()||L(k,e.getModel().isUseVisibility());const Y=[];if(e.isEnableTabStrip())for(let t=0;t<e.getChildren().length;t++){const n=e.getChildren()[t];let d=e.getSelected()===t;Y.push(r.createElement(F,{layout:i,node:n,path:l+"/tb"+t,key:n.getId(),selected:d,iconFactory:o,titleFactory:s,icons:a})),t<e.getChildren().length-1&&Y.push(r.createElement("div",{key:"divider"+t,className:I(b.FLEXLAYOUT__TABSET_TAB_DIVIDER)}))}const H=void 0!==e.getName();let X=[],P=[],W=[];const G={headerContent:e.getName(),stickyButtons:X,buttons:P,headerButtons:W};i.customizeTabSet(e,G);const V=G.headerContent;let J,j,Z;if(X=G.stickyButtons,P=G.buttons,W=G.headerButtons,X.length>0&&(v?P=[...X,...P]:Y.push(r.createElement("div",{ref:u,key:"sticky_buttons_container",onMouseDown:S,onTouchStart:S,onDragStart:t=>{t.preventDefault()},className:I(b.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},X))),m.length>0){const t=i.i18nName(p.Overflow_Menu_Tooltip);let o;o="function"==typeof a.more?a.more(e,m):r.createElement(r.Fragment,null,a.more,r.createElement("div",{className:I(b.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},m.length)),P.push(r.createElement("button",{key:"overflowbutton","data-layout-path":l+"/button/overflow",ref:h,className:I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(b.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),title:t,onClick:y,onMouseDown:S,onTouchStart:S},o))}if(void 0!==z&&i.isSupportsPopout()&&z.isEnableFloat()&&!z.isFloating()){const t=i.i18nName(p.Float_Tab);P.push(r.createElement("button",{key:"float","data-layout-path":l+"/button/float",title:t,className:I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),onClick:M,onMouseDown:S,onTouchStart:S},"function"==typeof a.popout?a.popout(z):a.popout))}if(e.canMaximize()){const t=i.i18nName(p.Restore),o=i.i18nName(p.Maximize);(H?W:P).push(r.createElement("button",{key:"max","data-layout-path":l+"/button/max",title:e.isMaximized()?t:o,className:I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_+(e.isMaximized()?"max":"min")),onClick:D,onMouseDown:S,onTouchStart:S},e.isMaximized()?"function"==typeof a.restore?a.restore(e):a.restore:"function"==typeof a.maximize?a.maximize(e):a.maximize))}if(!e.isMaximized()&&e.isEnableClose()){const t=i.i18nName(p.Close_Tabset);(H?W:P).push(r.createElement("button",{key:"close","data-layout-path":l+"/button/close",title:t,className:I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(b.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),onClick:C,onMouseDown:S,onTouchStart:S},"function"==typeof a.closeTabset?a.closeTabset(e):a.closeTabset))}J=r.createElement("div",{key:"toolbar",ref:d,className:I(b.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:S,onTouchStart:S,onDragStart:t=>{t.preventDefault()}},P);let q=I(b.FLEXLAYOUT__TABSET_TABBAR_OUTER);if(void 0!==e.getClassNameTabStrip()&&(q+=" "+e.getClassNameTabStrip()),q+=" "+b.FLEXLAYOUT__TABSET_TABBAR_OUTER_+e.getTabLocation(),e.isActive()&&!H&&(q+=" "+I(b.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&!H&&(q+=" "+I(b.FLEXLAYOUT__TABSET_MAXIMIZED)),H){const t=r.createElement("div",{key:"toolbar",ref:d,className:I(b.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:S,onTouchStart:S,onDragStart:t=>{t.preventDefault()}},W);let i=I(b.FLEXLAYOUT__TABSET_HEADER);e.isActive()&&(i+=" "+I(b.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&(i+=" "+I(b.FLEXLAYOUT__TABSET_MAXIMIZED)),void 0!==e.getClassNameHeader()&&(i+=" "+e.getClassNameHeader()),j=r.createElement("div",{className:i,style:{height:e.getHeaderHeight()+"px"},"data-layout-path":l+"/header",onMouseDown:R,onContextMenu:N,onClick:A,onAuxClick:A,onTouchStart:R},r.createElement("div",{className:I(b.FLEXLAYOUT__TABSET_HEADER_CONTENT)},V),t)}const $={height:e.getTabStripHeight()+"px"};Z=r.createElement("div",{className:q,style:$,"data-layout-path":l+"/tabstrip",onMouseDown:R,onContextMenu:N,onClick:A,onAuxClick:A,onTouchStart:R},r.createElement("div",{ref:_,className:I(b.FLEXLAYOUT__TABSET_TABBAR_INNER)+" "+I(b.FLEXLAYOUT__TABSET_TABBAR_INNER_+e.getTabLocation())},r.createElement("div",{style:{left:T},className:I(b.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER)+" "+I(b.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_+e.getTabLocation())},Y)),J),k=i.styleFont(k);var K=void 0;if(0===e.getChildren().length){const t=i.getTabSetPlaceHolderCallback();t&&(K=t(e))}const Q=r.createElement("div",{className:I(b.FLEXLAYOUT__TABSET_CONTENT)},K);var tt;return tt="top"===e.getTabLocation()?r.createElement(r.Fragment,null,j,Z,Q):r.createElement(r.Fragment,null,j,Q,Z),r.createElement("div",{ref:g,dir:"ltr","data-layout-path":l,style:k,className:I(b.FLEXLAYOUT__TABSET),onWheel:E},tt)},k=t=>{const{title:e,id:i,url:n,rect:s,onCloseWindow:a,onSetWindow:l,children:d}=t,h=r.useRef(null),c=r.useRef(null),[_,u]=r.useState(void 0);return r.useLayoutEffect((()=>{c.current&&clearTimeout(c.current);const t=s,r=Array.from(window.document.styleSheets).reduce(((t,e)=>{let i;try{i=e.cssRules}catch(t){}try{return[...t,{href:e.href,type:e.type,rules:i?Array.from(i).map((t=>t.cssText)):null}]}catch(e){return t}}),[]);return h.current=window.open(n,i,`left=${t.x},top=${t.y},width=${t.width},height=${t.height}`),null!==h.current?(l(i,h.current),window.addEventListener("beforeunload",(()=>{h.current&&(h.current.close(),h.current=null)})),h.current.addEventListener("load",(()=>{const t=h.current.document;t.title=e;const o=t.createElement("div");o.className=b.FLEXLAYOUT__FLOATING_WINDOW_CONTENT,t.body.appendChild(o),function(t,e){const i=t.head,r=[];for(const o of e)if(o.href){const e=t.createElement("link");e.type=o.type,e.rel="stylesheet",e.href=o.href,i.appendChild(e),r.push(new Promise(((t,i)=>{e.onload=()=>t(!0)})))}else if(o.rules){const e=t.createElement("style");for(const i of o.rules)e.appendChild(t.createTextNode(i));i.appendChild(e)}return Promise.all(r)}(t,r).then((()=>{u(o)})),h.current.addEventListener("beforeunload",(()=>{a(i)}))}))):(console.warn(`Unable to open window ${n}`),a(i)),()=>{c.current=setTimeout((()=>{h.current&&(h.current.close(),h.current=null)}),0)}}),[]),void 0!==_?(0,o.createPortal)(d,_):null},Y=t=>{const{layout:e,node:i,factory:o}=t,n=e.getClassName,s=o(i);return r.createElement("div",{className:n(b.FLEXLAYOUT__FLOATING_WINDOW_TAB)},r.createElement(U,{message:t.layout.i18nName(p.Error_rendering_component)},r.createElement(r.Fragment,null,s)))},H=t=>{const{layout:e,selected:i,node:o,path:n}=t,s=()=>{o.getWindow()&&o.getWindow().focus()},a=()=>{e.doAction(c.unFloatTab(o.getId()))},l=()=>{const t=o.getParent();t.getType()===y.TYPE&&(t.isActive()||e.doAction(c.setActiveTabset(t.getId())))},d=e.getClassName,h=o.getParent(),_=o._styleWithPosition();i||L(_,o.getModel().isUseVisibility()),h instanceof y&&(void 0===o.getModel().getMaximizedTabset()||h.isMaximized()||L(_,o.getModel().isUseVisibility()));const u=e.i18nName(p.Floating_Window_Message),g=e.i18nName(p.Floating_Window_Show_Window),T=e.i18nName(p.Floating_Window_Dock_Window),f=e.getOnRenderFloatingTabPlaceholder();return f?r.createElement("div",{className:d(b.FLEXLAYOUT__TAB_FLOATING),onMouseDown:l,onTouchStart:l,style:_},f(a,s)):r.createElement("div",{className:d(b.FLEXLAYOUT__TAB_FLOATING),"data-layout-path":n,onMouseDown:l,onTouchStart:l,style:_},r.createElement("div",{className:d(b.FLEXLAYOUT__TAB_FLOATING_INNER)},r.createElement("div",null,u),r.createElement("div",null,r.createElement("a",{href:"#",onClick:t=>{t.preventDefault(),s()}},g)),r.createElement("div",null,r.createElement("a",{href:"#",onClick:t=>{t.preventDefault(),a()}},T))))},X={width:"1em",height:"1em",display:"flex",alignItems:"center"},P=()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:X,viewBox:"0 0 24 24"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{stroke:"var(--color-icon)",fill:"var(--color-icon)",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),W={close:r.createElement(P,null),closeTabset:r.createElement(P,null),popout:r.createElement((()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:X,viewBox:"0 0 20 20",fill:"var(--color-icon)"},r.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),r.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))),null),maximize:r.createElement((()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:X,viewBox:"0 0 24 24",fill:"var(--color-icon)"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{stroke:"var(--color-icon)",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))),null),restore:r.createElement((()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:X,viewBox:"0 0 24 24",fill:"var(--color-icon)"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{stroke:"var(--color-icon)",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))),null),more:r.createElement((()=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:X,viewBox:"0 0 24 24",fill:"var(--color-icon)"},r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{stroke:"var(--color-icon)",d:"M7 10l5 5 5-5z"}))),null)},G="undefined"!=typeof window&&(window.document.documentMode||/Edge\//.test(window.navigator.userAgent)),V="undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches&&!G;class J extends r.Component{constructor(t){super(t),this.firstMove=!1,this.dragRectRendered=!0,this.dragDivText=void 0,this.edgeRectLength=100,this.edgeRectWidth=10,this.onModelChange=()=>{this.forceUpdate(),this.props.onModelChange&&this.props.onModelChange(this.props.model)},this.updateRect=(t=this.getDomRect())=>{const e=new s(0,0,t.width,t.height);e.equals(this.state.rect)||0===e.width||0===e.height||this.setState({rect:e})},this.updateLayoutMetrics=()=>{if(this.findHeaderBarSizeRef.current){const t=this.findHeaderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedHeaderBarSize&&this.setState({calculatedHeaderBarSize:t})}if(this.findTabBarSizeRef.current){const t=this.findTabBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedTabBarSize&&this.setState({calculatedTabBarSize:t})}if(this.findBorderBarSizeRef.current){const t=this.findBorderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedBorderBarSize&&this.setState({calculatedBorderBarSize:t})}},this.getClassName=t=>void 0===this.props.classNameMapper?t:this.props.classNameMapper(t),this.onCloseWindow=t=>{this.doAction(c.unFloatTab(t));try{this.props.model.getNodeById(t)._setWindow(void 0)}catch(t){}},this.onSetWindow=(t,e)=>{this.props.model.getNodeById(t)._setWindow(e)},this.onCancelAdd=()=>{var t,e;this.selfRef.current.removeChild(this.dragDiv),this.dragDiv=void 0,this.hidePortal(),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0);try{null===(e=null===(t=this.customDrop)||void 0===t?void 0:t.invalidated)||void 0===e||e.call(t)}catch(t){console.error(t)}d.instance.hideGlass(),this.newTabJson=void 0,this.customDrop=void 0},this.onCancelDrag=t=>{var e,i;if(t){const t=this.selfRef.current;try{t.removeChild(this.outlineDiv)}catch(t){}try{t.removeChild(this.dragDiv)}catch(t){}this.dragDiv=void 0,this.hidePortal(),this.setState({showEdges:!1}),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0);try{null===(i=null===(e=this.customDrop)||void 0===e?void 0:e.invalidated)||void 0===i||i.call(e)}catch(t){console.error(t)}d.instance.hideGlass(),this.newTabJson=void 0,this.customDrop=void 0}this.setState({showHiddenBorder:a.CENTER})},this.onDragDivMouseDown=t=>{t.preventDefault(),this.dragStart(t,this.dragDivText,E._fromJson(this.newTabJson,this.props.model,!1),!0,void 0,void 0)},this.dragStart=(t,e,i,r,o,n)=>{r?(this.dragNode=i,this.dragDivText=e,d.instance.startDrag(t,this.onDragStart,this.onDragMove,this.onDragEnd,this.onCancelDrag,o,n,this.currentDocument,this.selfRef.current)):d.instance.startDrag(t,void 0,void 0,void 0,void 0,o,n,this.currentDocument,this.selfRef.current)},this.dragRectRender=(t,e,i,o)=>{let n;if(void 0!==t?n=r.createElement("div",{style:{whiteSpace:"pre"}},t.replace("<br>","\n")):e&&e instanceof E&&(n=r.createElement(S,{node:e,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory})),void 0!==this.props.onRenderDragRect){const t=this.props.onRenderDragRect(n,e,i);void 0!==t&&(n=t)}this.dragDiv.style.visibility="hidden",this.dragRectRendered=!1,this.showPortal(r.createElement(j,{onRendered:()=>{this.dragRectRendered=!0,null==o||o()}},n),this.dragDiv)},this.showPortal=(t,e)=>{const i=(0,o.createPortal)(t,e);this.setState({portal:i})},this.hidePortal=()=>{this.setState({portal:void 0})},this.onDragStart=()=>{this.dropInfo=void 0,this.customDrop=void 0;const t=this.selfRef.current;return this.outlineDiv=this.currentDocument.createElement("div"),this.outlineDiv.className=this.getClassName(b.FLEXLAYOUT__OUTLINE_RECT),this.outlineDiv.style.visibility="hidden",t.appendChild(this.outlineDiv),null==this.dragDiv&&(this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(b.FLEXLAYOUT__DRAG_RECT),this.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),this.dragRectRender(this.dragDivText,this.dragNode,this.newTabJson),t.appendChild(this.dragDiv)),void 0===this.props.model.getMaximizedTabset()&&this.setState({showEdges:!0}),void 0!==this.dragNode&&this.dragNode instanceof E&&void 0!==this.dragNode.getTabRect()&&this.dragNode.getTabRect().positionElement(this.outlineDiv),this.firstMove=!0,!0},this.onDragMove=t=>{if(!1===this.firstMove){const t=this.props.model._getAttribute("tabDragSpeed");this.outlineDiv.style.transition=`top ${t}s, left ${t}s, width ${t}s, height ${t}s`}this.firstMove=!1;const e=this.selfRef.current.getBoundingClientRect(),i={x:t.clientX-e.left,y:t.clientY-e.top};this.checkForBorderToShow(i.x,i.y);const r=this.dragDiv.getBoundingClientRect();let o=i.x-r.width/2;o+r.width>e.width&&(o=e.width-r.width),o=Math.max(0,o),this.dragDiv.style.left=o+"px",this.dragDiv.style.top=i.y+5+"px",this.dragRectRendered&&"hidden"===this.dragDiv.style.visibility&&(this.dragDiv.style.visibility="visible");let n=this.props.model._findDropTargetNode(this.dragNode,i.x,i.y);n&&(this.props.onTabDrag?this.handleCustomTabDrag(n,i,t):(this.dropInfo=n,this.outlineDiv.className=this.getClassName(n.className),n.rect.positionElement(this.outlineDiv),this.outlineDiv.style.visibility="visible"))},this.onDragEnd=t=>{const e=this.selfRef.current;if(e.removeChild(this.outlineDiv),e.removeChild(this.dragDiv),this.dragDiv=void 0,this.hidePortal(),this.setState({showEdges:!1}),d.instance.hideGlass(),this.dropInfo)if(this.customDrop){this.newTabJson=void 0;try{const{callback:t,dragging:e,over:i,x:r,y:o,location:n}=this.customDrop;t(e,i,r,o,n),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=void 0)}catch(t){console.error(t)}}else if(void 0!==this.newTabJson){const e=this.doAction(c.addNode(this.newTabJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(e,t),this.fnNewNodeDropped=void 0),this.newTabJson=void 0}else void 0!==this.dragNode&&this.doAction(c.moveNode(this.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));this.setState({showHiddenBorder:a.CENTER})},this.props.model._setChangeListener(this.onModelChange),this.tabIds=[],this.selfRef=r.createRef(),this.findHeaderBarSizeRef=r.createRef(),this.findTabBarSizeRef=r.createRef(),this.findBorderBarSizeRef=r.createRef(),this.supportsPopout=void 0!==t.supportsPopout?t.supportsPopout:V,this.popoutURL=t.popoutURL?t.popoutURL:"popout.html",this.icons=Object.assign(Object.assign({},W),t.icons),this.state={rect:new s(0,0,0,0),calculatedHeaderBarSize:25,calculatedTabBarSize:26,calculatedBorderBarSize:30,editingTab:void 0,showHiddenBorder:a.CENTER,showEdges:!1},this.onDragEnter=this.onDragEnter.bind(this)}styleFont(t){return this.props.font&&(this.selfRef.current&&(this.props.font.size&&this.selfRef.current.style.setProperty("--font-size",this.props.font.size),this.props.font.family&&this.selfRef.current.style.setProperty("--font-family",this.props.font.family)),this.props.font.style&&(t.fontStyle=this.props.font.style),this.props.font.weight&&(t.fontWeight=this.props.font.weight)),t}doAction(t){if(void 0!==this.props.onAction){const e=this.props.onAction(t);return void 0!==e?this.props.model.doAction(e):void 0}return this.props.model.doAction(t)}componentDidMount(){this.updateRect(),this.updateLayoutMetrics(),this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.resizeObserver=new ResizeObserver((t=>{this.updateRect(t[0].contentRect)})),this.resizeObserver.observe(this.selfRef.current)}componentDidUpdate(){this.updateLayoutMetrics(),this.props.model!==this.previousModel&&(void 0!==this.previousModel&&this.previousModel._setChangeListener(void 0),this.props.model._setChangeListener(this.onModelChange),this.previousModel=this.props.model)}getCurrentDocument(){return this.currentDocument}getDomRect(){return this.selfRef.current.getBoundingClientRect()}getRootDiv(){return this.selfRef.current}isSupportsPopout(){return this.supportsPopout}isRealtimeResize(){var t;return null!==(t=this.props.realtimeResize)&&void 0!==t&&t}onTabDrag(...t){var e,i;return null===(i=(e=this.props).onTabDrag)||void 0===i?void 0:i.call(e,...t)}getPopoutURL(){return this.popoutURL}componentWillUnmount(){var t;null===(t=this.resizeObserver)||void 0===t||t.unobserve(this.selfRef.current)}setEditingTab(t){this.setState({editingTab:t})}getEditingTab(){return this.state.editingTab}render(){if(!this.selfRef.current)return r.createElement("div",{ref:this.selfRef,className:this.getClassName(b.FLEXLAYOUT__LAYOUT)},this.metricsElements());this.props.model._setPointerFine(window&&window.matchMedia&&window.matchMedia("(pointer: fine)").matches);const t=[],e=[],i=[],o={},n=[],s={headerBarSize:this.state.calculatedHeaderBarSize,tabBarSize:this.state.calculatedTabBarSize,borderBarSize:this.state.calculatedBorderBarSize};this.props.model._setShowHiddenBorder(this.state.showHiddenBorder),this.centerRect=this.props.model._layout(this.state.rect,s),this.renderBorder(this.props.model.getBorderSet(),t,o,i,n),this.renderChildren("",this.props.model.getRoot(),e,o,i,n);const a=[],l={};for(const t of this.tabIds)o[t]&&(a.push(t),l[t]=t);this.tabIds=a;for(const t of Object.keys(o))l[t]||this.tabIds.push(t);const d=[];if(this.state.showEdges){const t=this.centerRect,e=this.edgeRectLength,i=this.edgeRectWidth,o=this.edgeRectLength/2,n=this.getClassName(b.FLEXLAYOUT__EDGE_RECT),s=50;d.push(r.createElement("div",{key:"North",style:{top:t.y,left:t.x+t.width/2-o,width:e,height:i,borderBottomLeftRadius:s,borderBottomRightRadius:s},className:n})),d.push(r.createElement("div",{key:"West",style:{top:t.y+t.height/2-o,left:t.x,width:i,height:e,borderTopRightRadius:s,borderBottomRightRadius:s},className:n})),d.push(r.createElement("div",{key:"South",style:{top:t.y+t.height-i,left:t.x+t.width/2-o,width:e,height:i,borderTopLeftRadius:s,borderTopRightRadius:s},className:n})),d.push(r.createElement("div",{key:"East",style:{top:t.y+t.height/2-o,left:t.x+t.width-i,width:i,height:e,borderTopLeftRadius:s,borderBottomLeftRadius:s},className:n}))}return r.createElement("div",{ref:this.selfRef,className:this.getClassName(b.FLEXLAYOUT__LAYOUT),onDragEnter:this.props.onExternalDrag?this.onDragEnter:void 0},e,this.tabIds.map((t=>o[t])),t,n,d,i,this.metricsElements(),this.state.portal)}metricsElements(){const t=this.styleFont({visibility:"hidden"});return r.createElement(r.Fragment,null,r.createElement("div",{key:"findHeaderBarSize",ref:this.findHeaderBarSizeRef,style:t,className:this.getClassName(b.FLEXLAYOUT__TABSET_HEADER_SIZER)},"FindHeaderBarSize"),r.createElement("div",{key:"findTabBarSize",ref:this.findTabBarSizeRef,style:t,className:this.getClassName(b.FLEXLAYOUT__TABSET_SIZER)},"FindTabBarSize"),r.createElement("div",{key:"findBorderBarSize",ref:this.findBorderBarSizeRef,style:t,className:this.getClassName(b.FLEXLAYOUT__BORDER_SIZER)},"FindBorderBarSize"))}renderBorder(t,e,i,o,n){for(const s of t.getBorders()){const t=`/border/${s.getLocation().getName()}`;if(s.isShowing()){e.push(r.createElement(C,{key:`border_${s.getLocation().getName()}`,path:t,border:s,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons}));const a=s._getDrawChildren();let l=0,d=0;for(const e of a){if(e instanceof m){let i=t+"/s";n.push(r.createElement(M,{key:e.getId(),layout:this,node:e,path:i}))}else if(e instanceof E){let n=t+"/t"+d++;if(this.supportsPopout&&e.isFloating()){const t=this._getScreenRect(e);o.push(r.createElement(k,{key:e.getId(),url:this.popoutURL,rect:t,title:e.getName(),id:e.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},r.createElement(Y,{layout:this,node:e,factory:this.props.factory}))),i[e.getId()]=r.createElement(H,{key:e.getId(),layout:this,path:n,node:e,selected:l===s.getSelected()})}else i[e.getId()]=r.createElement(I,{key:e.getId(),layout:this,path:n,node:e,selected:l===s.getSelected(),factory:this.props.factory})}l++}}}}renderChildren(t,e,i,o,s,a){const l=e._getDrawChildren();let d=0,h=0,c=0;for(const e of l)if(e instanceof m){const i=t+"/s"+d++;a.push(r.createElement(M,{key:e.getId(),layout:this,path:i,node:e}))}else if(e instanceof y){const n=t+"/ts"+c++;i.push(r.createElement(z,{key:e.getId(),layout:this,path:n,node:e,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons})),this.renderChildren(n,e,i,o,s,a)}else if(e instanceof E){const i=t+"/t"+h++,n=e.getParent().getChildren()[e.getParent().getSelected()];if(void 0===n&&console.warn("undefined selectedTab should not happen"),this.supportsPopout&&e.isFloating()){const t=this._getScreenRect(e);s.push(r.createElement(k,{key:e.getId(),url:this.popoutURL,rect:t,title:e.getName(),id:e.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},r.createElement(Y,{layout:this,node:e,factory:this.props.factory}))),o[e.getId()]=r.createElement(H,{key:e.getId(),layout:this,path:i,node:e,selected:e===n})}else o[e.getId()]=r.createElement(I,{key:e.getId(),layout:this,path:i,node:e,selected:e===n,factory:this.props.factory})}else{const r=t+(e.getOrientation()===n.HORZ?"/r":"/c")+c++;this.renderChildren(r,e,i,o,s,a)}}_getScreenRect(t){const e=t.getRect().clone(),i=this.selfRef.current.getBoundingClientRect(),r=Math.min(80,this.currentWindow.outerHeight-this.currentWindow.innerHeight),o=Math.min(80,this.currentWindow.outerWidth-this.currentWindow.innerWidth);return e.x=e.x+i.x+this.currentWindow.screenX+o,e.y=e.y+i.y+this.currentWindow.screenY+r,e}addTabToTabSet(t,e){void 0!==this.props.model.getNodeById(t)&&this.doAction(c.addNode(e,t,a.CENTER,-1))}addTabToActiveTabSet(t){const e=this.props.model.getActiveTabset();void 0!==e&&this.doAction(c.addNode(t,e.getId(),a.CENTER,-1))}addTabWithDragAndDrop(t,e,i){this.fnNewNodeDropped=i,this.newTabJson=e,this.dragStart(void 0,t,E._fromJson(e,this.props.model,!1),!0,void 0,void 0)}moveTabWithDragAndDrop(t,e){this.dragStart(void 0,e,t,!0,void 0,void 0)}addTabWithDragAndDropIndirect(t,e,i){this.fnNewNodeDropped=i,this.newTabJson=e,d.instance.addGlass(this.onCancelAdd),this.dragDivText=t,this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(b.FLEXLAYOUT__DRAG_RECT),this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown,{passive:!1}),this.dragRectRender(this.dragDivText,void 0,this.newTabJson,(()=>{if(this.dragDiv){this.dragDiv.style.visibility="visible";const t=this.dragDiv.getBoundingClientRect(),e=new s(0,0,null==t?void 0:t.width,null==t?void 0:t.height);e.centerInRect(this.state.rect),this.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),this.dragDiv.style.left=e.x+"px",this.dragDiv.style.top=e.y+"px"}})),this.selfRef.current.appendChild(this.dragDiv)}handleCustomTabDrag(t,e,i){var r,o,n;let a=null===(r=this.customDrop)||void 0===r?void 0:r.invalidated;const l=null===(o=this.customDrop)||void 0===o?void 0:o.callback;this.customDrop=void 0;const h=this.newTabJson||(this.dragNode instanceof E?this.dragNode:void 0);if(h&&(t.node instanceof y||t.node instanceof R)&&-1===t.index){const r=t.node.getSelectedNode(),o=null==r?void 0:r.getRect();if(r&&(null==o?void 0:o.contains(e.x,e.y))){let n;try{const a=this.onTabDrag(h,r,e.x-o.x,e.y-o.y,t.location,(()=>this.onDragMove(i)));a&&(n={rect:new s(a.x+o.x,a.y+o.y,a.width,a.height),callback:a.callback,invalidated:a.invalidated,dragging:h,over:r,x:e.x-o.x,y:e.y-o.y,location:t.location,cursor:a.cursor})}catch(t){console.error(t)}(null==n?void 0:n.callback)===l&&(a=void 0),this.customDrop=n}}this.dropInfo=t,this.outlineDiv.className=this.getClassName(this.customDrop?b.FLEXLAYOUT__OUTLINE_RECT:t.className),this.customDrop?this.customDrop.rect.positionElement(this.outlineDiv):t.rect.positionElement(this.outlineDiv),d.instance.setGlassCursorOverride(null===(n=this.customDrop)||void 0===n?void 0:n.cursor),this.outlineDiv.style.visibility="visible";try{null==a||a()}catch(t){console.error(t)}}onDragEnter(t){if(d.instance.isDragging())return;const e=this.props.onExternalDrag(t);e&&(this.fnNewNodeDropped=e.onDrop,this.newTabJson=e.json,this.dragStart(t,e.dragText,E._fromJson(e.json,this.props.model,!1),!0,void 0,void 0))}checkForBorderToShow(t,e){const i=this.props.model._getOuterInnerRects().outer,r=i.getCenter(),o=this.edgeRectWidth,n=this.edgeRectLength/2;let s=!1;this.props.model.isEnableEdgeDock()&&this.state.showHiddenBorder===a.CENTER&&(e>r.y-n&&e<r.y+n||t>r.x-n&&t<r.x+n)&&(s=!0);let l=a.CENTER;s||(t<=i.x+o?l=a.LEFT:t>=i.getRight()-o?l=a.RIGHT:e<=i.y+o?l=a.TOP:e>=i.getBottom()-o&&(l=a.BOTTOM)),l!==this.state.showHiddenBorder&&this.setState({showHiddenBorder:l})}maximize(t){this.doAction(c.maximizeToggle(t.getId()))}customizeTab(t,e){this.props.onRenderTab&&this.props.onRenderTab(t,e)}customizeTabSet(t,e){this.props.onRenderTabSet&&this.props.onRenderTabSet(t,e)}i18nName(t,e){let i;return this.props.i18nMapper&&(i=this.props.i18nMapper(t,e)),void 0===i&&(i=t+(void 0===e?"":e)),i}getOnRenderFloatingTabPlaceholder(){return this.props.onRenderFloatingTabPlaceholder}getShowOverflowMenu(){return this.props.onShowOverflowMenu}getTabSetPlaceHolderCallback(){return this.props.onTabSetPlaceHolder}showContextMenu(t,e){this.props.onContextMenu&&this.props.onContextMenu(t,e)}auxMouseClick(t,e){this.props.onAuxMouseClick&&this.props.onAuxMouseClick(t,e)}}const j=t=>(r.useEffect((()=>{var e;null===(e=t.onRendered)||void 0===e||e.call(t)}),[t]),r.createElement(r.Fragment,null,t.children));class Z{constructor(t){this._model=t,this._borders=[]}static _fromJson(t,e){const i=new Z(e);return i._borders=t.map((t=>R._fromJson(t,e))),i}getBorders(){return this._borders}_forEachNode(t){for(const e of this._borders){t(e,0);for(const i of e.getChildren())i._forEachNode(t,1)}}_toJson(){return this._borders.map((t=>t.toJson()))}_layoutBorder(t,e){const i=t.outer,r=this._model.getRoot();let o=Math.max(0,i.height-r.getMinHeight()),s=Math.max(0,i.width-r.getMinWidth()),a=0,l=0,d=0,h=0;const c=this._borders.filter((t=>t.isShowing()));for(const t of c){t._setAdjustedSize(t.getSize());const e=-1!==t.getSelected();t.getLocation().getOrientation()===n.HORZ?(l+=t.getBorderBarSize(),e&&(s-=this._model.getSplitterSize(),l+=t.getSize(),h+=t.getSize())):(a+=t.getBorderBarSize(),e&&(o-=this._model.getSplitterSize(),a+=t.getSize(),d+=t.getSize()))}let _=0,u=!1;for(;l>s&&h>0||a>o&&d>0;){const t=c[_];if(-1!==t.getSelected()){const e=t._getAdjustedSize();l>s&&h>0&&t.getLocation().getOrientation()===n.HORZ&&e>0&&e>t.getMinSize()?(t._setAdjustedSize(e-1),l--,h--,u=!0):a>o&&d>0&&t.getLocation().getOrientation()===n.VERT&&e>0&&e>t.getMinSize()&&(t._setAdjustedSize(e-1),a--,d--,u=!0)}if(_=(_+1)%c.length,0===_){if(!u)break;u=!1}}for(const i of c)t.outer=i._layoutBorderOuter(t.outer,e);t.inner=t.outer;for(const i of c)t.inner=i._layoutBorderInner(t.inner,e);return t}_findDropTargetNode(t,e,i){for(const r of this._borders)if(r.isShowing()){const o=r.canDrop(t,e,i);if(void 0!==o)return o}}}var q,$=new Uint8Array(16);function K(){if(!q&&!(q="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q($)}const Q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,tt=function(t){return"string"==typeof t&&Q.test(t)};for(var et=[],it=0;it<256;++it)et.push((it+256).toString(16).substr(1));const rt=function(t,e,i){var r=(t=t||{}).random||(t.rng||K)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){i=i||0;for(var o=0;o<16;++o)e[i+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(et[t[e+0]]+et[t[e+1]]+et[t[e+2]]+et[t[e+3]]+"-"+et[t[e+4]]+et[t[e+5]]+"-"+et[t[e+6]]+et[t[e+7]]+"-"+et[t[e+8]]+et[t[e+9]]+"-"+et[t[e+10]]+et[t[e+11]]+et[t[e+12]]+et[t[e+13]]+et[t[e+14]]+et[t[e+15]]).toLowerCase();if(!tt(i))throw TypeError("Stringified UUID is invalid");return i}(r)};class ot{constructor(){this._borderRects={inner:s.empty(),outer:s.empty()},this._attributes={},this._idMap={},this._borders=new Z(this),this._pointerFine=!0,this._showHiddenBorder=a.CENTER}static fromJson(t){const e=new ot;return ot._attributeDefinitions.fromJson(t.global,e._attributes),t.borders&&(e._borders=Z._fromJson(t.borders,e)),e._root=v._fromJson(t.layout,e),e._tidy(),e}static _createAttributeDefinitions(){const t=new u;return t.add("legacyOverflowMenu",!1).setType(_.BOOLEAN),t.add("splitterSize",-1).setType(_.NUMBER),t.add("splitterExtra",0).setType(_.NUMBER),t.add("enableEdgeDock",!0).setType(_.BOOLEAN),t.add("rootOrientationVertical",!1).setType(_.BOOLEAN),t.add("marginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),t.add("enableUseVisibility",!1).setType(_.BOOLEAN),t.add("tabEnableClose",!0).setType(_.BOOLEAN),t.add("tabCloseType",1).setType("ICloseType"),t.add("tabEnableFloat",!1).setType(_.BOOLEAN),t.add("tabEnableDrag",!0).setType(_.BOOLEAN),t.add("tabEnableRename",!0).setType(_.BOOLEAN),t.add("tabClassName",void 0).setType(_.STRING),t.add("tabIcon",void 0).setType(_.STRING),t.add("tabEnableRenderOnDemand",!0).setType(_.BOOLEAN),t.add("tabDragSpeed",.3).setType(_.NUMBER),t.add("tabBorderWidth",-1).setType(_.NUMBER),t.add("tabBorderHeight",-1).setType(_.NUMBER),t.add("tabSetEnableDeleteWhenEmpty",!0).setType(_.BOOLEAN),t.add("tabSetEnableDrop",!0).setType(_.BOOLEAN),t.add("tabSetEnableDrag",!0).setType(_.BOOLEAN),t.add("tabSetEnableDivide",!0).setType(_.BOOLEAN),t.add("tabSetEnableMaximize",!0).setType(_.BOOLEAN),t.add("tabSetEnableClose",!1).setType(_.BOOLEAN),t.add("tabSetAutoSelectTab",!0).setType(_.BOOLEAN),t.add("tabSetClassNameTabStrip",void 0).setType(_.STRING),t.add("tabSetClassNameHeader",void 0).setType(_.STRING),t.add("tabSetEnableTabStrip",!0).setType(_.BOOLEAN),t.add("tabSetHeaderHeight",0).setType(_.NUMBER),t.add("tabSetTabStripHeight",0).setType(_.NUMBER),t.add("tabSetMarginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),t.add("tabSetBorderInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),t.add("tabSetTabLocation","top").setType("ITabLocation"),t.add("tabSetMinWidth",0).setType(_.NUMBER),t.add("tabSetMinHeight",0).setType(_.NUMBER),t.add("borderSize",200).setType(_.NUMBER),t.add("borderMinSize",0).setType(_.NUMBER),t.add("borderBarSize",0).setType(_.NUMBER),t.add("borderEnableDrop",!0).setType(_.BOOLEAN),t.add("borderAutoSelectTabWhenOpen",!0).setType(_.BOOLEAN),t.add("borderAutoSelectTabWhenClosed",!1).setType(_.BOOLEAN),t.add("borderClassName",void 0).setType(_.STRING),t.add("borderEnableAutoHide",!1).setType(_.BOOLEAN),t}_setChangeListener(t){this._changeListener=t}getActiveTabset(){return this._activeTabSet&&this.getNodeById(this._activeTabSet.getId())?this._activeTabSet:void 0}_getShowHiddenBorder(){return this._showHiddenBorder}_setShowHiddenBorder(t){this._showHiddenBorder=t}_setActiveTabset(t){this._activeTabSet=t}getMaximizedTabset(){return this._maximizedTabSet}_setMaximizedTabset(t){this._maximizedTabSet=t}getRoot(){return this._root}isRootOrientationVertical(){return this._attributes.rootOrientationVertical}isUseVisibility(){return this._attributes.enableUseVisibility}getBorderSet(){return this._borders}_getOuterInnerRects(){return this._borderRects}_getPointerFine(){return this._pointerFine}_setPointerFine(t){this._pointerFine=t}visitNodes(t){this._borders._forEachNode(t),this._root._forEachNode(t,0)}getNodeById(t){return this._idMap[t]}doAction(t){let e;switch(t.type){case c.ADD_NODE:{const i=new E(this,t.data.json,!0),r=this._idMap[t.data.toNode];(r instanceof y||r instanceof R||r instanceof v)&&(r.drop(i,a.getByName(t.data.location),t.data.index,t.data.select),e=i);break}case c.MOVE_NODE:{const e=this._idMap[t.data.fromNode];if(e instanceof E||e instanceof y){const i=this._idMap[t.data.toNode];(i instanceof y||i instanceof R||i instanceof v)&&i.drop(e,a.getByName(t.data.location),t.data.index,t.data.select)}break}case c.DELETE_TAB:{const e=this._idMap[t.data.node];e instanceof E&&e._delete();break}case c.DELETE_TABSET:{const e=this._idMap[t.data.node];if(e instanceof y){const t=[...e.getChildren()];for(let e=0;e<t.length;e++){const i=t[e];i.isEnableClose()&&i._delete()}0===e.getChildren().length&&e._delete(),this._tidy()}break}case c.FLOAT_TAB:{const e=this._idMap[t.data.node];e instanceof E&&(e._setFloating(!0),function(t){const e=t.getParent();if(null!==e)if(e instanceof y){let i=!1,r=0;const o=e.getChildren();for(let e=0;e<o.length;e++){const n=o[e];if(n===t)i=!0;else if(!n.isFloating()&&(r=e,i))break}e._setSelected(r)}else e instanceof R&&e._setSelected(-1)}(e));break}case c.UNFLOAT_TAB:{const e=this._idMap[t.data.node];e instanceof E&&(e._setFloating(!1),function(t){const e=t.getParent();if(null!==e&&(e instanceof y||e instanceof R)){const i=e.getChildren();for(let r=0;r<i.length;r++)if(i[r]===t)return void e._setSelected(r)}}(e));break}case c.RENAME_TAB:{const e=this._idMap[t.data.node];e instanceof E&&e._setName(t.data.text);break}case c.SELECT_TAB:{const e=this._idMap[t.data.tabNode];if(e instanceof E){const t=e.getParent(),i=t.getChildren().indexOf(e);t instanceof R?t.getSelected()===i?t._setSelected(-1):t._setSelected(i):t instanceof y&&(t.getSelected()!==i&&t._setSelected(i),this._activeTabSet=t)}break}case c.SET_ACTIVE_TABSET:{const e=this._idMap[t.data.tabsetNode];e instanceof y&&(this._activeTabSet=e);break}case c.ADJUST_SPLIT:{const e=this._idMap[t.data.node1],i=this._idMap[t.data.node2];(e instanceof y||e instanceof v)&&(i instanceof y||i instanceof v)&&(this._adjustSplitSide(e,t.data.weight1,t.data.pixelWidth1),this._adjustSplitSide(i,t.data.weight2,t.data.pixelWidth2));break}case c.ADJUST_BORDER_SPLIT:{const e=this._idMap[t.data.node];e instanceof R&&e._setSize(t.data.pos);break}case c.MAXIMIZE_TOGGLE:{const e=this._idMap[t.data.node];e instanceof y&&(e===this._maximizedTabSet?this._maximizedTabSet=void 0:(this._maximizedTabSet=e,this._activeTabSet=e));break}case c.UPDATE_MODEL_ATTRIBUTES:this._updateAttrs(t.data.json);break;case c.UPDATE_NODE_ATTRIBUTES:this._idMap[t.data.node]._updateAttrs(t.data.json)}return this._updateIdMap(),void 0!==this._changeListener&&this._changeListener(),e}_updateIdMap(){this._idMap={},this.visitNodes((t=>this._idMap[t.getId()]=t))}_adjustSplitSide(t,e,i){t._setWeight(e),null!=t.getWidth()&&t.getOrientation()===n.VERT?t._updateAttrs({width:i}):null!=t.getHeight()&&t.getOrientation()===n.HORZ&&t._updateAttrs({height:i})}toJson(){const t={};return ot._attributeDefinitions.toJson(t,this._attributes),this.visitNodes((t=>{t._fireEvent("save",void 0)})),{global:t,borders:this._borders._toJson(),layout:this._root.toJson()}}getSplitterSize(){let t=this._attributes.splitterSize;return-1===t&&(t=this._pointerFine?8:12),t}isLegacyOverflowMenu(){return this._attributes.legacyOverflowMenu}getSplitterExtra(){return this._attributes.splitterExtra}isEnableEdgeDock(){return this._attributes.enableEdgeDock}_addNode(t){const e=t.getId();if(void 0!==this._idMap[e])throw new Error(`Error: each node must have a unique id, duplicate id:${t.getId()}`);"splitter"!==t.getType()&&(this._idMap[e]=t)}_layout(t,e){var i;return this._borderRects=this._borders._layoutBorder({outer:t,inner:t},e),t=this._borderRects.inner.removeInsets(this._getAttribute("marginInsets")),null===(i=this._root)||void 0===i||i.calcMinSize(),this._root._layout(t,e),t}_findDropTargetNode(t,e,i){let r=this._root._findDropTargetNode(t,e,i);return void 0===r&&(r=this._borders._findDropTargetNode(t,e,i)),r}_tidy(){this._root._tidy()}_updateAttrs(t){ot._attributeDefinitions.update(t,this._attributes)}_nextUniqueId(){return"#"+rt()}_getAttribute(t){return this._attributes[t]}setOnAllowDrop(t){this._onAllowDrop=t}_getOnAllowDrop(){return this._onAllowDrop}setOnCreateTabSet(t){this._onCreateTabSet=t}_getOnCreateTabSet(){return this._onCreateTabSet}static toTypescriptInterfaces(){console.log(ot._attributeDefinitions.toTypescriptInterface("Global",void 0)),console.log(v.getAttributeDefinitions().toTypescriptInterface("Row",ot._attributeDefinitions)),console.log(y.getAttributeDefinitions().toTypescriptInterface("TabSet",ot._attributeDefinitions)),console.log(E.getAttributeDefinitions().toTypescriptInterface("Tab",ot._attributeDefinitions)),console.log(R.getAttributeDefinitions().toTypescriptInterface("Border",ot._attributeDefinitions))}toString(){return JSON.stringify(this.toJson())}}ot._attributeDefinitions=ot._createAttributeDefinitions()},491:(t,e,i)=>{i.r(e),i.d(e,{default:()=>b});var r=i(379),o=i.n(r),n=i(795),s=i.n(n),a=i(565),l=i.n(a),d=i(216),h=i.n(d),c=i(589),_=i.n(c),u=i(702),g={};g.styleTagTransform=_(),g.setAttributes=l(),g.insert=function(t){var e=document.querySelector("head"),i=window._lastElementInsertedByStyleLoader;i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),window._lastElementInsertedByStyleLoader=t},g.domAPI=s(),g.insertStyleElement=h(),o()(u.Z,g);const b=u.Z&&u.Z.locals?u.Z.locals:void 0},379:t=>{var e=[];function i(t){for(var i=-1,r=0;r<e.length;r++)if(e[r].identifier===t){i=r;break}return i}function r(t,r){for(var n={},s=[],a=0;a<t.length;a++){var l=t[a],d=r.base?l[0]+r.base:l[0],h=n[d]||0,c="".concat(d," ").concat(h);n[d]=h+1;var _=i(c),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==_)e[_].references++,e[_].updater(u);else{var g=o(u,r);r.byIndex=a,e.splice(a,0,{identifier:c,updater:g,references:1})}s.push(c)}return s}function o(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,o){var n=r(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<n.length;s++){var a=i(n[s]);e[a].references--}for(var l=r(t,o),d=0;d<n.length;d++){var h=i(n[d]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}n=l}}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var r="";i.supports&&(r+="@supports (".concat(i.supports,") {")),i.media&&(r+="@media ".concat(i.media," {"));var o=void 0!==i.layer;o&&(r+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),r+=i.css,o&&(r+="}"),i.media&&(r+="}"),i.supports&&(r+="}");var n=i.sourceMap;n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},590:function(t,e,i){var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var o=Object.getOwnPropertyDescriptor(e,i);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,o)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return o(e,t),e};e.__esModule=!0;var s=n(i(812)),a=n(i(285));i(491);var l=function(t){t.id;var e=t.config,i=t.children,r=(0,s.useState)(a.Model.fromJson(e)),o=r[0];return r[1],console.log(i),s.default.createElement(a.Layout,{model:o,factory:function(t){console.log(t),console.log(t.getChildren()),console.log(t.getComponent());var e=function(t,e){var i=e.getId(),r=(Array.isArray(t)?t:[t]).filter((function(t){return function(t,e){return(t.props&&t.props._dashprivate_layout&&t.props._dashprivate_layout.props.id||t.props&&t.props.id||t.key)===e}(t,i)}));return console.log("Found "+r.length+" matching children for "+i),r}(i,t);return s.default.createElement(s.default.Fragment,null,e)}})};l.defaultProps={},e.default=l},546:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=r(i(812));i(491);var n=function(t){t.id;var e=t.children;return o.default.createElement(o.default.Fragment,null,e)};n.defaultProps={},e.default=n},294:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.Tab=e.FlexLayout=void 0;var o=r(i(590));e.FlexLayout=o.default;var n=r(i(546));e.Tab=n.default},812:e=>{e.exports=t},587:t=>{t.exports=e}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={id:t,exports:{}};return i[t].call(n.exports,n,n.exports,o),n.exports}return o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nc=void 0,o(294)})()));